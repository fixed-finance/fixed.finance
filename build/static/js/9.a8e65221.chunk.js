(this["webpackJsonpcash-market"]=this["webpackJsonpcash-market"]||[]).push([[9],{714:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAbCAQAAADSI7duAAAA3klEQVR4Ae3KJbgTABgAwB93SSyxhiS0jYRLw136N/qHdiSjHWs4FODlxefalp47fjhzqcjli/IsiXpJy0rWVw/6hHaLa9eUSUCDWdXrcn0AuGdK5ZrQA+ADuFqpzpMBXeClT+B0uTrdU5C1C9yUBp/sKc23wbDV1oObES6DSanCehG8tyUil01xF/RZnqunAMcj8nOEmV6DHokfdbsP4GxEcY6wWBPImBfWGgXXI8rlCEtlwZOwQT8emVYpR1ht2DtHI8JKD8yNKM05NtsUpUpzzv/8N+akm246FiW+APXuV/IIYSrvAAAAAElFTkSuQmCC"},941:function(e,t,n){},959:function(e,t,n){"use strict";n.r(t);var a,r,i=n(46),s=n(2),b=n.n(s),u=n(16),j=n(21),c=n(33),m=n(0),x=n.n(m),o=n(718),h=n.n(o),l=n(45),d=n(729),p=n.n(d),f=n(755),O=n.n(f),w=n(48),g=n(72),v=n(34),A=n(123),y=n(52),_=(n(273),n(17)),k=function(){var e=this,t=Object(m.useState)(0),t=Object(j.a)(t,2),t=(t[0],t[1],Object(g.g)()),n=t.ethereum,a=t.account;this.provider=void 0,this.signer=void 0,this.contract=void 0,this.myAccount=void 0,this.address=y.a.Vesting.address,Object(m.useEffect)(function(){n&&a&&(e.unlockWallet(n,a),e.contract||(e.contract=new v.ethers.Contract(e.address,A.Vesting.abi,e.provider)))},[n,a])};k.prototype.unlockWallet=function(e,t){this.provider=new v.ethers.providers.Web3Provider(e),this.signer=this.provider?this.provider.getSigner(0):void 0,this.myAccount=t},k.prototype.getVestWithdrawableAmount=(r=Object(u.a)(b.a.mark(function e(t,n){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contract)return e.next=3,this.contract.getVestWithdrawableAmount(t,n);e.next=5;break;case 3:return a=e.sent,e.abrupt("return",a);case 5:return e.abrupt("return",void 0);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)}),k.prototype.withdrawVested=(a=Object(u.a)(b.a.mark(function e(t,n){var a,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contract)return a=this.contract.connect(this.signer),e.next=4,a.estimateGas.withdrawVested(t,n.toString());e.next=15;break;case 4:return r=(r=e.sent).mul(_.e).div(_.g),e.next=8,this.provider.getGasPrice();case 8:return i=(i=e.sent).mul(_.f).div(_.g),i={gasLimit:r.toString(),gasPrice:i.toString()},e.next=13,a.withdrawVested(t,n.toString(),i);case 13:return i=e.sent,e.abrupt("return",i);case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)});var F=k,S=n(714),N=n(692),B=n(706),C=n(705),D=n(961),s=n(704),o=n(953),z=n(962),d=n(103),f=n(948),T=n(164),k=n(41),I=n.n(k),k=n(40),R=n.n(k),W=n(261),P=(n(941),n(5)),V=o.a.Countdown;h.a.extend(p.a),h.a.extend(O.a);function E(e,t){switch(t.type){case"setFirArr":return Object(c.a)(Object(c.a)({},e),{},{fir_Arr:t.setFirArr});case"setSecArr":return Object(c.a)(Object(c.a)({},e),{},{sec_Arr:t.setSecArr})}}var L={fir_Arr:[],sec_Arr:[]},U=Object(l.b)(s.a)(Object(i.a)(["\n  padding: 0 5px 0 0;\n  width: 14px;\n"])),X=Object(l.b)(D.a.Text)(Object(i.a)(["\n  font-family: 'PingFangSC-Regular, PingFang SC, 微软雅黑';\n  font-size: 18px;\n  color: #0FBCFF;\n  font-weight: bold;\n  background: #FCFAFA;\n  padding 15px;\n  padding-left: 40px;\n  margin-bottom: 0;\n\n"])),H=Object(l.b)(d.a)(Object(i.a)(["\n  background: #23BEFA;\n  border-color: #23BEFA;\n  font-size: 12px;\n"])),G=Object(l.b)(C.a)(Object(i.a)(["\n  font-family: 'PingFangSC-Regular, PingFang SC, 微软雅黑';\n  min-width: 100%;\n  div:nth-of-type(1){\n    font-family: 'PingFangSC-Regular, PingFang SC, 微软雅黑';\n    font-size: 18px;\n    color: #1B1F2D;\n    line-height: 20px;\n  }\n  div:nth-of-type(2){\n    opacity: 0.5;\n    font-family: Roboto-Regular;\n    font-size: 12px;\n    color: #1B1F2D;\n  }\n  .ant-statistic-content-value{\n    font-family: Roboto-Regular;\n    font-size: 12px;\n    color: #1B1F2D;\n    white-space: nowrap;\n  }\n  .LockedStyle{\n    font-size: 12px;\n    background-color: #d4f3fe;\n    padding: 2px 3.65px;\n    >.fontStyle{\n      color: #23BEFA;\n    }\n  }\n"])),K=Object(l.b)(C.a)(Object(i.a)(["\n  div:nth-of-type(1){\n    font-family: Roboto-Medium;\n    font-size: 16px;\n    color: #1B1F2D;\n    line-height: 18px;\n    font-weight: bold;\n  }\n  div:nth-of-type(n+2){\n    min-width: 100%;\n    opacity: 0.5;\n    font-family: Roboto-Regular;\n    font-size: 12px;\n    color: #1B1F2D;\n  }\n"])),M=l.b.span(Object(i.a)(["\n  font-family: Roboto-Medium;\n  font-size: 20px;\n  color: #1B1F2D;\n"])),J=Object(l.b)(f.a)(Object(i.a)(["\n  .ant-table-thead{\n    opacity: 0.5;\n    font-family: 'PingFangSC-Regular, PingFang SC, 微软雅黑';\n    font-size: 12px;\n    color: #1B1F2D;\n    font-weight: bold;\n  }\n\n  .ant-table-thead > tr > th{\n    background: #fff;\n  }\n  \n  .ant-table-ping-left:not(.ant-table-has-fix-left) .ant-table-container::before {\n    -webkit-box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n  }\n  .ant-table-ping-left .ant-table-cell-fix-left-first::after,\n  .ant-table-ping-left .ant-table-cell-fix-left-last::after {\n    -webkit-box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n  }\n  .ant-table-ping-right:not(.ant-table-has-fix-right) .ant-table-container::after {\n    -webkit-box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n  }\n  .ant-table-ping-right .ant-table-cell-fix-right-first::after,\n  .ant-table-ping-right .ant-table-cell-fix-right-last::after {\n    -webkit-box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n  }\n"]));t.default=function(){var t=Object(g.g)().account,e=Object(m.useReducer)(E,L),n=Object(j.a)(e,2),a=n[0],r=n[1],e=x.a.useState(void 0),n=Object(j.a)(e,2),i=n[0],s=n[1],e=x.a.useContext(W.a);Object(m.useEffect)(Object(u.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s(R.a.get("mphPriceObj"));case 1:case"end":return e.stop()}},e)})),[R.a.get("mphPriceObj_timestamp")]);var c,o,l,d=(o=Object(g.g)().account,l=new F,Object(m.useCallback)((c=Object(u.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.withdrawVested(o,t);case 2:e.sent;case 3:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),[o,void 0]));Object(m.useEffect)(Object(u.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&Object(T.j)(t).then(function(e){var t=[];e.data.vests.map(function(e){i&&t.push(function(e,t){var n=e.id.split("---")[1],a=y.a.FIXToken,r=t?new I.a(t):void 0;if(r&&e){var i=new I.a(e.amount),s=i.multipliedBy(r),c=new I.a(e.withdrawnAmount),o=c.multipliedBy(r),l=new I.a(h()().unix()),d=new I.a(e.creationTimestamp),t=new I.a(e.vestPeriodInSeconds),d=i.multipliedBy(l.minus(d).dividedBy(t)),t=(d=1===d.comparedTo(i)?i:d).minus(c),d=t.multipliedBy(r),r=!t.isZero();return{vestIdx:n,pools:"#"+n,poolsTimestamp:1e3*(Number(e.creationTimestamp)+Number(e.vestPeriodInSeconds)),fullAmount:i.toFixed(4)+" "+a.symbol,fullAmount_first:"$"+s.toFixed(4),withdrawnAmount:c.toFixed(4)+" "+a.symbol,withdrawnAmount_first:"$"+o.toFixed(4),currentWithdrawableAmount:t.toFixed(4)+" "+a.symbol,currentWithdrawableAmount_first:"$"+d.toFixed(4),isShowWithdraw:r}}}(e,i[y.b.address]))}),r({type:"setFirArr",setFirArr:t})});case 1:case"end":return e.stop()}},e)})),[t,i]);n=[{title:"#",dataIndex:"pools",key:"pools",render:function(e,t,n){return Object(P.jsxs)(z.b,{size:"middle",children:[Object(P.jsx)(M,{children:e}),Object(P.jsxs)(G,{children:[Object(P.jsx)(N.a,{xs:"12",md:"12",children:Object(P.jsx)("span",{className:"LockedStyle",children:Object(P.jsx)("span",{className:"fontStyle",children:h()().isSameOrAfter(h()(t.poolsTimestamp))?Object(w.a)("market_cur_unLock"):Object(w.a)("vest_cur_Lock")})})}),Object(P.jsx)(N.a,{xs:"12",md:"12",children:0<t.poolsTimestamp-(new Date).getTime()?Object(P.jsx)(V,{value:t.poolsTimestamp,format:"D[d] Hh m[m] s[s]"}):""})]})]})}},{title:Object(w.a)("vest_table_column1"),dataIndex:"fullAmount",key:"fullAmount",render:function(e,t){return Object(P.jsx)(z.b,{size:"middle",children:Object(P.jsxs)(K,{children:[Object(P.jsx)(N.a,{xs:!0,md:"12",children:e}),Object(P.jsx)(N.a,{xs:!0,md:"12",children:t.fullAmount_first})]})})}},{title:Object(w.a)("vest_table_column2"),dataIndex:"withdrawnAmount",key:"withdrawnAmount",render:function(e,t){return e?Object(P.jsx)(z.b,{size:"middle",children:Object(P.jsxs)(K,{children:[Object(P.jsx)(N.a,{xs:!0,md:"12",children:e}),Object(P.jsx)(N.a,{xs:!0,md:"12",children:t.withdrawnAmount_first})]})}):""}},{title:Object(w.a)("vest_table_column3"),dataIndex:"currentWithdrawableAmount",key:"currentWithdrawableAmount",render:function(e,t){return e?Object(P.jsx)(z.b,{size:"middle",children:Object(P.jsxs)(K,{children:[Object(P.jsx)(N.a,{xs:!0,md:"12",children:e}),Object(P.jsx)(N.a,{xs:!0,md:"12",children:t.currentWithdrawableAmount_first})]})}):""}},{render:function(e,t,n){return!t||t.isShowWithdraw?Object(P.jsx)(z.b,{size:"middle",style:{float:"right"},children:Object(P.jsxs)(H,{type:"primary",size:"small",onClick:function(){return d(t.vestIdx)},children:[Object(P.jsx)(U,{src:S.a}),(h()().isSameOrAfter(h()(t.poolsTimestamp)),Object(w.a)("market_cur_table_withDraw"))]})}):""}}];return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(B.a,{fluid:!0,children:[Object(P.jsxs)(C.a,{className:"row_cont_title",children:[Object(P.jsx)(N.a,{md:"12",className:"content_title_col",children:Object(P.jsx)("span",{className:"content_title",children:Object(w.a)("vest_title")})}),Object(P.jsx)(N.a,{md:"12",className:"content_title_col",children:Object(P.jsx)("span",{className:"content_desc",children:Object(w.a)("vest_desc")})})]}),e.state.isMobile?Object(P.jsx)(C.a,{className:"vest-item",children:0<a.fir_Arr.length?a.fir_Arr.map(function(e,t){return Object(P.jsxs)(D.a,{children:[Object(P.jsx)(D.a.Header,{as:"h5",children:Object(P.jsxs)(G,{className:"d-flex align-items-center ml-0",children:[Object(P.jsx)("div",{className:"mr-2",children:e.pools}),Object(P.jsx)("div",{className:"mr-2",children:Object(P.jsx)("span",{className:"LockedStyle",children:Object(P.jsx)("span",{className:"fontStyle",children:h()().isSameOrAfter(h()(e.poolsTimestamp))?Object(w.a)("market_cur_unLock"):Object(w.a)("vest_cur_Lock")})})}),Object(P.jsx)("div",{className:"mr-2",children:0<e.poolsTimestamp-(new Date).getTime()?Object(P.jsx)(V,{value:e.poolsTimestamp,format:"D[d] Hh m[m] s[s]"}):""})]})}),Object(P.jsxs)(D.a.Body,{as:"div",children:[Object(P.jsxs)("div",{className:"d-flex vest-item-info",children:[Object(P.jsxs)("div",{className:"d-flex flex-column item-info",children:[Object(P.jsx)("div",{children:Object(w.a)("vest_table_column1")}),Object(P.jsx)("div",{children:e.fullAmount})]}),Object(P.jsxs)("div",{className:"d-flex flex-column item-info",children:[Object(P.jsx)("div",{children:Object(w.a)("vest_table_column2")}),Object(P.jsx)("div",{children:e.withdrawnAmount})]}),Object(P.jsxs)("div",{className:"d-flex flex-column item-info",children:[Object(P.jsx)("div",{children:Object(w.a)("vest_table_column3")}),Object(P.jsx)("div",{children:e.currentWithdrawableAmount})]})]}),Object(P.jsx)(H,{type:"primary",size:"small",className:"vest-withDraw",onClick:function(){return d(e.vestIdx)},children:Object(w.a)("market_cur_table_withDraw")})]})]},t)}):Object(P.jsx)("div",{className:"no-FIX-extract",children:Object(w.a)("no_FIX_extract")})}):Object(P.jsx)(C.a,{style:{borderRadius:"4px"},children:Object(P.jsx)(N.a,{xs:"12",md:"12",children:Object(P.jsxs)(D.a,{className:"tableCardSetting",style:{width:"100%",border:"none"},children:[Object(P.jsx)(X,{children:Object(w.a)("vest_table_title")}),Object(P.jsx)(N.a,{md:"12",className:"styleTable",children:Object(P.jsx)(J,{tableLayout:"fixed",columns:n,dataSource:a.fir_Arr,scroll:e.state.isMobile?{x:800}:{x:1100},rowKey:function(e){return e.pools},pagination:!1},1)})]})})})]})})}}}]);