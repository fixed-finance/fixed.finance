(this["webpackJsonpcash-market"]=this["webpackJsonpcash-market"]||[]).push([[9],{714:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAbCAQAAADSI7duAAAA3klEQVR4Ae3KJbgTABgAwB93SSyxhiS0jYRLw136N/qHdiSjHWs4FODlxefalp47fjhzqcjli/IsiXpJy0rWVw/6hHaLa9eUSUCDWdXrcn0AuGdK5ZrQA+ADuFqpzpMBXeClT+B0uTrdU5C1C9yUBp/sKc23wbDV1oObES6DSanCehG8tyUil01xF/RZnqunAMcj8nOEmV6DHokfdbsP4GxEcY6wWBPImBfWGgXXI8rlCEtlwZOwQT8emVYpR1ht2DtHI8JKD8yNKM05NtsUpUpzzv/8N+akm246FiW+APXuV/IIYSrvAAAAAElFTkSuQmCC"},941:function(e,t,n){},959:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(2),i=n.n(r),s=n(16),c=n(21),o=n(33),l=n(0),d=n.n(l),b=n(718),u=n.n(b),j=n(45),m=n(729),x=n.n(m),h=n(755),p=n.n(h),f=n(48),O=n(72),w=n(34),g=n(123),v=n(52),A=(n(273),n(17)),y=function(){var e=this,t=Object(l.useState)(0),n=Object(c.a)(t,2),a=(n[0],n[1],Object(O.g)()),r=a.ethereum,i=a.account;this.provider=void 0,this.signer=void 0,this.contract=void 0,this.myAccount=void 0,this.address=v.a.Vesting.address,Object(l.useEffect)((function(){r&&i&&(e.unlockWallet(r,i),e.contract||(e.contract=new w.ethers.Contract(e.address,g.Vesting.abi,e.provider)))}),[r,i])};y.prototype.unlockWallet=function(e,t){this.provider=new w.ethers.providers.Web3Provider(e),this.signer=this.provider?this.provider.getSigner(0):void 0,this.myAccount=t},y.prototype.getVestWithdrawableAmount=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.contract){e.next=5;break}return e.next=3,this.contract.getVestWithdrawableAmount(t,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:return e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),y.prototype.withdrawVested=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.contract){e.next=15;break}return a=this.contract.connect(this.signer),e.next=4,a.estimateGas.withdrawVested(t,n.toString());case 4:return r=(r=e.sent).mul(A.e).div(A.g),e.next=8,this.provider.getGasPrice();case 8:return s=(s=e.sent).mul(A.f).div(A.g),c={gasLimit:r.toString(),gasPrice:s.toString()},e.next=13,a.withdrawVested(t,n.toString(),c);case 13:return o=e.sent,e.abrupt("return",o);case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}();var _,k,F,S,N,B,C,D=y,z=n(714),T=n(692),W=n(706),I=n(705),R=n(961),P=n(704),V=n(953),E=n(962),L=n(103),U=n(948),X=n(164),H=n(41),G=n.n(H),K=n(40),M=n.n(K),J=n(261),Q=(n(941),n(5)),Y=V.a.Countdown;u.a.extend(x.a),u.a.extend(p.a);var q={fir_Arr:[],sec_Arr:[]},Z=function(e,t){switch(t.type){case"setFirArr":return Object(o.a)(Object(o.a)({},e),{},{fir_Arr:t.setFirArr});case"setSecArr":return Object(o.a)(Object(o.a)({},e),{},{sec_Arr:t.setSecArr})}},$=function(e,t,n){var a=e.id.split("---")[1],r=v.a.FIXToken,i=t?new G.a(t):void 0;if(i&&e){var s=new G.a(e.amount),c=s.multipliedBy(i),o=new G.a(e.withdrawnAmount),l=o.multipliedBy(i),d=new G.a(u()().unix()),b=new G.a(e.creationTimestamp),j=new G.a(e.vestPeriodInSeconds),m=s.multipliedBy(d.minus(b).dividedBy(j)),x=(m=1===m.comparedTo(s)?s:m).minus(o),h=x.multipliedBy(i),p=!x.isZero();return{vestIdx:a,pools:"#"+a,poolsTimestamp:1e3*(Number(e.creationTimestamp)+Number(e.vestPeriodInSeconds)),fullAmount:s.toFixed(4)+" "+r.symbol,fullAmount_first:"$"+c.toFixed(4),withdrawnAmount:o.toFixed(4)+" "+r.symbol,withdrawnAmount_first:"$"+l.toFixed(4),currentWithdrawableAmount:x.toFixed(4)+" "+r.symbol,currentWithdrawableAmount_first:"$"+h.toFixed(4),isShowWithdraw:p}}};var ee=Object(j.b)(P.a)(_||(_=Object(a.a)(["\n  padding: 0 5px 0 0;\n  width: 14px;\n"]))),te=Object(j.b)(R.a.Text)(k||(k=Object(a.a)(["\n  font-family: 'PingFangSC-Regular, PingFang SC, \u5fae\u8f6f\u96c5\u9ed1';\n  font-size: 18px;\n  color: #0FBCFF;\n  font-weight: bold;\n  background: #FCFAFA;\n  padding 15px;\n  padding-left: 40px;\n  margin-bottom: 0;\n\n"]))),ne=Object(j.b)(L.a)(F||(F=Object(a.a)(["\n  background: #23BEFA;\n  border-color: #23BEFA;\n  font-size: 12px;\n"]))),ae=Object(j.b)(I.a)(S||(S=Object(a.a)(["\n  font-family: 'PingFangSC-Regular, PingFang SC, \u5fae\u8f6f\u96c5\u9ed1';\n  min-width: 100%;\n  div:nth-of-type(1){\n    font-family: 'PingFangSC-Regular, PingFang SC, \u5fae\u8f6f\u96c5\u9ed1';\n    font-size: 18px;\n    color: #1B1F2D;\n    line-height: 20px;\n  }\n  div:nth-of-type(2){\n    opacity: 0.5;\n    font-family: Roboto-Regular;\n    font-size: 12px;\n    color: #1B1F2D;\n  }\n  .ant-statistic-content-value{\n    font-family: Roboto-Regular;\n    font-size: 12px;\n    color: #1B1F2D;\n    white-space: nowrap;\n  }\n  .LockedStyle{\n    font-size: 12px;\n    background-color: #d4f3fe;\n    padding: 2px 3.65px;\n    >.fontStyle{\n      color: #23BEFA;\n    }\n  }\n"]))),re=Object(j.b)(I.a)(N||(N=Object(a.a)(["\n  div:nth-of-type(1){\n    font-family: Roboto-Medium;\n    font-size: 16px;\n    color: #1B1F2D;\n    line-height: 18px;\n    font-weight: bold;\n  }\n  div:nth-of-type(n+2){\n    min-width: 100%;\n    opacity: 0.5;\n    font-family: Roboto-Regular;\n    font-size: 12px;\n    color: #1B1F2D;\n  }\n"]))),ie=j.b.span(B||(B=Object(a.a)(["\n  font-family: Roboto-Medium;\n  font-size: 20px;\n  color: #1B1F2D;\n"]))),se=Object(j.b)(U.a)(C||(C=Object(a.a)(["\n  .ant-table-thead{\n    opacity: 0.5;\n    font-family: 'PingFangSC-Regular, PingFang SC, \u5fae\u8f6f\u96c5\u9ed1';\n    font-size: 12px;\n    color: #1B1F2D;\n    font-weight: bold;\n  }\n\n  .ant-table-thead > tr > th{\n    background: #fff;\n  }\n  \n  .ant-table-ping-left:not(.ant-table-has-fix-left) .ant-table-container::before {\n    -webkit-box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n  }\n  .ant-table-ping-left .ant-table-cell-fix-left-first::after,\n  .ant-table-ping-left .ant-table-cell-fix-left-last::after {\n    -webkit-box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset 10px 0 8px -8px rgba(255, 255, 255);\n  }\n  .ant-table-ping-right:not(.ant-table-has-fix-right) .ant-table-container::after {\n    -webkit-box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n  }\n  .ant-table-ping-right .ant-table-cell-fix-right-first::after,\n  .ant-table-ping-right .ant-table-cell-fix-right-last::after {\n    -webkit-box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n            box-shadow: inset -10px 0 8px -8px rgba(255, 255, 255);\n  }\n"])));t.default=function(){var e=Object(O.g)().account,t=Object(l.useReducer)(Z,q),n=Object(c.a)(t,2),a=n[0],r=n[1],o=d.a.useState(void 0),b=Object(c.a)(o,2),j=b[0],m=b[1],x=d.a.useContext(J.a);Object(l.useEffect)(Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(M.a.get("mphPriceObj"));case 1:case"end":return e.stop()}}),e)}))),[M.a.get("mphPriceObj_timestamp")]);var h=function(e){var t=Object(O.g)().account,n=new D;return{onWithdrawVested:Object(l.useCallback)(function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.withdrawVested(t,a);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,e])}}().onWithdrawVested;Object(l.useEffect)(Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&Object(X.j)(e).then((function(e){var t=[];e.data.vests.map((function(e){j&&t.push($(e,j[v.b.address]))})),r({type:"setFirArr",setFirArr:t})}));case 1:case"end":return t.stop()}}),t)}))),[e,j]);var p=[{title:"#",dataIndex:"pools",key:"pools",render:function(e,t,n){return Object(Q.jsxs)(E.b,{size:"middle",children:[Object(Q.jsx)(ie,{children:e}),Object(Q.jsxs)(ae,{children:[Object(Q.jsx)(T.a,{xs:"12",md:"12",children:Object(Q.jsx)("span",{className:"LockedStyle",children:Object(Q.jsx)("span",{className:"fontStyle",children:u()().isSameOrAfter(u()(t.poolsTimestamp))?Object(f.a)("market_cur_unLock"):Object(f.a)("vest_cur_Lock")})})}),Object(Q.jsx)(T.a,{xs:"12",md:"12",children:t.poolsTimestamp-(new Date).getTime()>0?Object(Q.jsx)(Y,{value:t.poolsTimestamp,format:"D[d] Hh m[m] s[s]"}):""})]})]})}},{title:Object(f.a)("vest_table_column1"),dataIndex:"fullAmount",key:"fullAmount",render:function(e,t){return Object(Q.jsx)(E.b,{size:"middle",children:Object(Q.jsxs)(re,{children:[Object(Q.jsx)(T.a,{xs:!0,md:"12",children:e}),Object(Q.jsx)(T.a,{xs:!0,md:"12",children:t.fullAmount_first})]})})}},{title:Object(f.a)("vest_table_column2"),dataIndex:"withdrawnAmount",key:"withdrawnAmount",render:function(e,t){return e?Object(Q.jsx)(E.b,{size:"middle",children:Object(Q.jsxs)(re,{children:[Object(Q.jsx)(T.a,{xs:!0,md:"12",children:e}),Object(Q.jsx)(T.a,{xs:!0,md:"12",children:t.withdrawnAmount_first})]})}):""}},{title:Object(f.a)("vest_table_column3"),dataIndex:"currentWithdrawableAmount",key:"currentWithdrawableAmount",render:function(e,t){return e?Object(Q.jsx)(E.b,{size:"middle",children:Object(Q.jsxs)(re,{children:[Object(Q.jsx)(T.a,{xs:!0,md:"12",children:e}),Object(Q.jsx)(T.a,{xs:!0,md:"12",children:t.currentWithdrawableAmount_first})]})}):""}},{render:function(e,t,n){return!t||t.isShowWithdraw?Object(Q.jsx)(E.b,{size:"middle",style:{float:"right"},children:Object(Q.jsxs)(ne,{type:"primary",size:"small",onClick:function(){return h(t.vestIdx)},children:[Object(Q.jsx)(ee,{src:z.a}),(u()().isSameOrAfter(u()(t.poolsTimestamp)),Object(f.a)("market_cur_table_withDraw"))]})}):""}}];return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(W.a,{fluid:!0,children:[Object(Q.jsxs)(I.a,{className:"row_cont_title",children:[Object(Q.jsx)(T.a,{md:"12",className:"content_title_col",children:Object(Q.jsx)("span",{className:"content_title",children:Object(f.a)("vest_title")})}),Object(Q.jsx)(T.a,{md:"12",className:"content_title_col",children:Object(Q.jsx)("span",{className:"content_desc",children:Object(f.a)("vest_desc")})})]}),x.state.isMobile?Object(Q.jsx)(I.a,{className:"vest-item",children:a.fir_Arr.length>0?a.fir_Arr.map((function(e,t){return Object(Q.jsxs)(R.a,{children:[Object(Q.jsx)(R.a.Header,{as:"h5",children:Object(Q.jsxs)(ae,{className:"d-flex align-items-center ml-0",children:[Object(Q.jsx)("div",{className:"mr-2",children:e.pools}),Object(Q.jsx)("div",{className:"mr-2",children:Object(Q.jsx)("span",{className:"LockedStyle",children:Object(Q.jsx)("span",{className:"fontStyle",children:u()().isSameOrAfter(u()(e.poolsTimestamp))?Object(f.a)("market_cur_unLock"):Object(f.a)("vest_cur_Lock")})})}),Object(Q.jsx)("div",{className:"mr-2",children:e.poolsTimestamp-(new Date).getTime()>0?Object(Q.jsx)(Y,{value:e.poolsTimestamp,format:"D[d] Hh m[m] s[s]"}):""})]})}),Object(Q.jsxs)(R.a.Body,{as:"div",children:[Object(Q.jsxs)("div",{className:"d-flex vest-item-info",children:[Object(Q.jsxs)("div",{className:"d-flex flex-column item-info",children:[Object(Q.jsx)("div",{children:Object(f.a)("vest_table_column1")}),Object(Q.jsx)("div",{children:e.fullAmount})]}),Object(Q.jsxs)("div",{className:"d-flex flex-column item-info",children:[Object(Q.jsx)("div",{children:Object(f.a)("vest_table_column2")}),Object(Q.jsx)("div",{children:e.withdrawnAmount})]}),Object(Q.jsxs)("div",{className:"d-flex flex-column item-info",children:[Object(Q.jsx)("div",{children:Object(f.a)("vest_table_column3")}),Object(Q.jsx)("div",{children:e.currentWithdrawableAmount})]})]}),Object(Q.jsx)(ne,{type:"primary",size:"small",className:"vest-withDraw",onClick:function(){return h(e.vestIdx)},children:Object(f.a)("market_cur_table_withDraw")})]})]},t)})):Object(Q.jsx)("div",{className:"no-FIX-extract",children:Object(f.a)("no_FIX_extract")})}):Object(Q.jsx)(I.a,{style:{borderRadius:"4px"},children:Object(Q.jsx)(T.a,{xs:"12",md:"12",children:Object(Q.jsxs)(R.a,{className:"tableCardSetting",style:{width:"100%",border:"none"},children:[Object(Q.jsx)(te,{children:Object(f.a)("vest_table_title")}),Object(Q.jsx)(T.a,{md:"12",className:"styleTable",children:Object(Q.jsx)(se,{tableLayout:"fixed",columns:p,dataSource:a.fir_Arr,scroll:x.state.isMobile?{x:800}:{x:1100},rowKey:function(e){return e.pools},pagination:!1},1)})]})})})]})})}}}]);