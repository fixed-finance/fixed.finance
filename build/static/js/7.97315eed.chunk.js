(this["webpackJsonpcash-market"]=this["webpackJsonpcash-market"]||[]).push([[7],{867:function(t,Br,Rr){"use strict";Rr.r(Br),function(u,t){var e=Rr(2),f=Rr.n(e),i=Rr(13),a=Rr(11),o=Rr(12),s=Rr(334),c=Rr(14),h=Rr(15),r=Rr(66),n=Rr.n(r),l=Rr(42),d=(Rr(0),Rr(277),Rr(65),Rr(938)),p=(Rr(477),Rr(144),Rr(909)),m=Rr.n(p),g=(Rr(478),Rr(903),Rr(919)),v=n.a.EventEmitter,y=m.a.inherits,w=b;function b(){v.call(this),this.isLocked=!0}y(b,v),b.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},b.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},b.prototype.await=function(t){this.isLocked?this.once("unlock",t):setTimeout(t)};function _(t){return Object(d.h)({id:(new Date).getTime()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",params:[]},t)}var M=n.a.EventEmitter,k=m.a.inherits,E=x;function x(t){M.call(this),this.setMaxListeners(30),t=t||{};var e={sendAsync:this._handleAsync.bind(this)},e=t.blockTrackerProvider||e;this._blockTracker=t.blockTracker||new d.b({provider:e,pollingInterval:t.pollingInterval||4e3,setSkipCacheFlag:!0}),this._ready=new w,this.currentBlock=null,this._providers=[]}k(x,M),Object.defineProperty(x,"name",{value:"HttpProvider"}),x.prototype.start=function(){var r=this,n=this;n._ready.go(),n._blockTracker.on("latest",function(t){n._getBlockByNumber(t,function(t,e){t?r.emit("error",t):e&&(t=e,t={number:d.d.toBuffer(t.number),hash:d.d.toBuffer(t.hash),parentHash:d.d.toBuffer(t.parentHash),nonce:d.d.toBuffer(t.nonce),mixHash:d.d.toBuffer(t.mixHash),sha3Uncles:d.d.toBuffer(t.sha3Uncles),logsBloom:d.d.toBuffer(t.logsBloom),transactionsRoot:d.d.toBuffer(t.transactionsRoot),stateRoot:d.d.toBuffer(t.stateRoot),receiptsRoot:d.d.toBuffer(t.receiptRoot||t.receiptsRoot),miner:d.d.toBuffer(t.miner),difficulty:d.d.toBuffer(t.difficulty),totalDifficulty:d.d.toBuffer(t.totalDifficulty),size:d.d.toBuffer(t.size),extraData:d.d.toBuffer(t.extraData),gasLimit:d.d.toBuffer(t.gasLimit),gasUsed:d.d.toBuffer(t.gasUsed),timestamp:d.d.toBuffer(t.timestamp),transactions:t.transactions},n._setCurrentBlock(t),n.emit("rawBlock",e),n.emit("latest",e))})}),n._blockTracker.on("sync",n.emit.bind(n,"sync")),n._blockTracker.on("error",n.emit.bind(n,"error")),n._running=!0,n.emit("start")},x.prototype.stop=function(){this._blockTracker.removeAllListeners(),this._running=!1,this.emit("stop")},x.prototype.isRunning=function(){return this._running},x.prototype.addProvider=function(t,e){"number"==typeof e?this._providers.splice(e,0,t):this._providers.push(t),t.setEngine(this)},x.prototype.removeProvider=function(t){t=this._providers.indexOf(t);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},x.prototype.send=function(t){throw new Error("Web3ProviderEngine does not support synchronous requests.")},x.prototype.sendAsync=function(t,e){var r=this;r._ready.await(function(){Array.isArray(t)?Object(d.m)(t,r._handleAsync.bind(r),e):r._handleAsync(t,e)})},x.prototype._getBlockByNumber=function(t,r){t=_({method:"eth_getBlockByNumber",params:[t,!1],skipCache:!0});this._handleAsync(t,function(t,e){return t?r(t):r(null,e.result)})},x.prototype._handleAsync=function(r,n){var i=this,o=-1,a=null,s=null,u=[];function c(t,e){s=t,a=e,Object(d.e)(u,function(t,e){t?t(s,a,e):e()},function(){var t={id:r.id,jsonrpc:r.jsonrpc,result:a};null!=s?(t.error={message:s.stack||s.message||s,code:-32e3},n(s,t)):n(null,t)})}!function t(e){if(o+=1,u.unshift(e),o>=i._providers.length)c(new Error('Request for method "'+r.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{i._providers[o].handleRequest(r,t,c)}catch(t){c(t)}}()},x.prototype._setCurrentBlock=function(t){this.currentBlock=t,this.emit("block",t)};var A=T;function T(){}T.prototype.setEngine=function(t){var e=this;e.engine||((e.engine=t).on("block",function(t){e.currentBlock=t}),t.on("start",function(){e.start()}),t.on("stop",function(){e.stop()}))},T.prototype.handleRequest=function(t,e,r){throw new Error("Subproviders should override `handleRequest`.")},T.prototype.emitPayload=function(t,e){this.engine.sendAsync(_(t),e)},T.prototype.stop=function(){},T.prototype.start=function(){};var S=function(t){Object(c.a)(n,t);var r=Object(h.a)(n);function n(t){var e;if(Object(a.a)(this,n),e=r.call(this),!t)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");return e._constructorFn=t,Object(s.a)(e)}return Object(o.a)(n,[{key:"setEngine",value:function(t){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");var e=t._blockTracker,e=this._constructorFn({engine:t,provider:t,blockTracker:e});if(!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof e)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=e}},{key:"handleRequest",value:function(t,e,r){var i={id:t.id};this.middleware(t,i,function(n){e(function(t,e,r){t?(delete i.result,i.error={message:t.message||t}):i.result=e,n?n(r):r()})},function(t){return t?r(t):void r(null,i.result)})}}]),n}(A),P={cacheIdentifierForPayload:function(t,e){e=e?B(t):t.params;return O(t)?t.method+":"+Object(g.a)(e):null},canCache:O,blockTagForPayload:function(t){var e=R(t);return e>=t.params.length?null:t.params[e]},paramsWithoutBlockTag:B,blockTagParamIndex:R,cacheTypeForPayload:C};function O(t){return"never"!==C(t)}function B(t){var e=R(t);return e>=t.params.length?t.params:"eth_getBlockByNumber"===t.method?t.params.slice(1):t.params.slice(0,e)}function R(t){switch(t.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function C(t){switch(t.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}var N,I,L=[void 0,null,"<nil>"],j=(Object(o.a)(U,[{key:"getBlockCacheForPayload",value:function(t,e){var r=Number.parseInt(e,16),n=this.cache[r];return n||(e={},n=this.cache[r]=e),n}},{key:"get",value:(I=Object(i.a)(f.a.mark(function t(e,r){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getBlockCacheForPayload(e,r))return t.abrupt("return",n[P.cacheIdentifierForPayload(e,!0)]);t.next=3;break;case 3:case"end":return t.stop()}},t,this)})),function(t,e){return I.apply(this,arguments)})},{key:"set",value:(N=Object(i.a)(f.a.mark(function t(e,r,n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.canCacheResult(e,n)&&(this.getBlockCacheForPayload(e,r)[P.cacheIdentifierForPayload(e,!0)]=n);case 1:case"end":return t.stop()}},t,this)})),function(t,e,r){return N.apply(this,arguments)})},{key:"canCacheRequest",value:function(t){return!!P.canCache(t)&&"pending"!==P.blockTagForPayload(t)}},{key:"canCacheResult",value:function(t,e){if(!L.includes(e))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(t.method)||e&&e.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.blockHash)}},{key:"clearBefore",value:function(t){var e=this,r=Number.parseInt(t,16);Object.keys(e.cache).map(Number).filter(function(t){return t<r}).forEach(function(t){return delete e.cache[t]})}}]),U),D=function(t){Object(c.a)(n,t);var r=Object(h.a)(n);function n(e){return Object(a.a)(this,n),r.call(this,function(t){t=t.blockTracker;return function(t){var c=(arguments.length>0&&void 0!==t?t:{}).blockTracker;if(!c)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");var n,h=new j,l={perma:h,block:h,fork:h};return Object(d.l)((n=Object(i.a)(f.a.mark(function t(e,r,n){var i,o,a,s,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.skipCache)return t.abrupt("return",n());t.next=2;break;case 2:if(s=P.cacheTypeForPayload(e),i=l[s]){t.next=5;break}return t.abrupt("return",n());case 5:if(i.canCacheRequest(e)){t.next=7;break}return t.abrupt("return",n());case 7:if("earliest"!==(a=!(a=P.blockTagForPayload(e))?"latest":a)){t.next=12;break}o="0x00",t.next=20;break;case 12:if("latest"===a)return t.next=15,c.getLatestBlock();t.next=19;break;case 15:s=t.sent,h.clearBefore(s),o=s,t.next=20;break;case 19:o=a;case 20:return t.next=22,i.get(e,o);case 22:if(void 0===(u=t.sent))return t.next=26,n();t.next=30;break;case 26:return t.next=28,i.set(e,o,r.result);case 28:t.next=31;break;case 30:r.result=u;case 31:case"end":return t.stop()}},t)})),function(t,e,r){return n.apply(this,arguments)}))}(Object.assign({blockTracker:t},e))})}return n}(S),q=m.a.inherits,F=G;function U(){Object(a.a)(this,U),this.cache={}}function G(t){t=t||{},this.staticResponses=t}q(G,A),G.prototype.handleRequest=function(t,e,r){var n=this.staticResponses[t.method];"function"==typeof n?n(t,e,r):void 0!==n?setTimeout(function(){return r(null,n)}):e()};var z=function(t){Object(c.a)(r,t);var e=Object(h.a)(r);function r(){return Object(a.a)(this,r),e.call(this,function(t){var e=t.blockTracker,r=t.provider;return t.engine,Object(d.g)({blockTracker:e,provider:r})})}return r}(S),K=m.a.inherits,H=/^[0-9A-Fa-f]+$/g,V=Z;function Z(t){this.nonceLock=Object(d.c)(1),t.getAccounts&&(this.getAccounts=t.getAccounts),t.processTransaction&&(this.processTransaction=t.processTransaction),t.processMessage&&(this.processMessage=t.processMessage),t.processPersonalMessage&&(this.processPersonalMessage=t.processPersonalMessage),t.processTypedMessage&&(this.processTypedMessage=t.processTypedMessage),t.processTypedMessageV3&&(this.processTypedMessageV3=t.processTypedMessageV3),this.approveTransaction=t.approveTransaction||this.autoApprove,this.approveMessage=t.approveMessage||this.autoApprove,this.approvePersonalMessage=t.approvePersonalMessage||this.autoApprove,this.approveTypedMessage=t.approveTypedMessage||this.autoApprove,this.approveTypedMessageV3=t.approveTypedMessageV3||this.autoApprove,t.signTransaction&&(this.signTransaction=t.signTransaction||$("signTransaction")),t.signMessage&&(this.signMessage=t.signMessage||$("signMessage")),t.signPersonalMessage&&(this.signPersonalMessage=t.signPersonalMessage||$("signPersonalMessage")),t.signTypedMessage&&(this.signTypedMessage=t.signTypedMessage||$("signTypedMessage")),t.signTypedMessageV3&&(this.signTypedMessageV3=t.signTypedMessageV3||$("signTypedMessageV3")),t.recoverPersonalSignature&&(this.recoverPersonalSignature=t.recoverPersonalSignature),t.publishTransaction&&(this.publishTransaction=t.publishTransaction),this.estimateGas=t.estimateGas||this.estimateGas,this.getGasPrice=t.getGasPrice||this.getGasPrice}function W(t){return t.toLowerCase()}function J(t){t=d.d.addHexPrefix(t);return d.d.isValidAddress(t)}function X(t){var e=d.d.addHexPrefix(t);return!d.d.isValidAddress(e)&&Y(t)}function Y(t){return"string"==typeof t&&"0x"===t.slice(0,2)&&t.slice(2).match(H)}function $(r){return function(t,e){e(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+r+'" fn in constructor options'))}}K(Z,A),Z.prototype.handleRequest=function(e,t,r){var n,i,o,a,s,u,c=this;switch(c._parityRequests={},c._parityRequestCount=0,e.method){case"eth_coinbase":return void c.getAccounts(function(t,e){if(t)return r(t);e=e[0]||null;r(null,e)});case"eth_accounts":return void c.getAccounts(function(t,e){return t?r(t):void r(null,e)});case"eth_sendTransaction":return n=e.params[0],void Object(d.p)([function(t){return c.validateTransaction(n,t)},function(t){return c.processTransaction(n,t)}],r);case"eth_signTransaction":return n=e.params[0],void Object(d.p)([function(t){return c.validateTransaction(n,t)},function(t){return c.processSignTransaction(n,t)}],r);case"eth_sign":return X(e.params[1])&&J(e.params[0])?(s=e.params[0],a=e.params[1]):(a=e.params[0],s=e.params[1]),o=e.params[2]||{},i=Object(d.h)(o,{from:s,data:a}),void Object(d.p)([function(t){return c.validateMessage(i,t)},function(t){return c.processMessage(i,t)}],r);case"personal_sign":return u=e.params[0],X(e.params[1])&&J(u)?(s=e.params[0],a=e.params[1]):(a=e.params[0],s=e.params[1]),o=e.params[2]||{},i=Object(d.h)(o,{from:s,data:a}),void Object(d.p)([function(t){return c.validatePersonalMessage(i,t)},function(t){return c.processPersonalMessage(i,t)}],r);case"personal_ecRecover":return function(){a=e.params[0];var t=e.params[1];o=e.params[2]||{},i=Object(d.h)(o,{sig:t,data:a}),c.recoverPersonalSignature(i,r)}();case"eth_signTypedData":return!J(e.params[1])&&J(e.params[0])?(s=e.params[0],a=e.params[1]):(a=e.params[0],s=e.params[1]),o=e.params[2]||{},i=Object(d.h)(o,{from:s,data:a}),void Object(d.p)([function(t){return c.validateTypedMessage(i,t)},function(t){return c.processTypedMessage(i,t)}],r);case"eth_signTypedData_v3":return!J(e.params[1])&&J(e.params[0])?(s=e.params[0],a=e.params[1]):(a=e.params[0],s=e.params[1]),o=e.params[2]||{},i=Object(d.h)(o,{from:s,data:a}),void Object(d.p)([function(t){return c.validateTypedMessageV3(i,t)},function(t){return c.processTypedMessageV3(i,t)}],r);case"parity_postTransaction":return n=e.params[0],void c.parityPostTransaction(n,r);case"parity_postSign":return s=e.params[0],a=e.params[1],void c.parityPostSign(s,a,r);case"parity_checkRequest":return s=e.params[0],void c.parityCheckRequest(s,r);case"parity_defaultAccount":return void c.getAccounts(function(t,e){if(t)return r(t);e=e[0]||null;r(null,e)});default:return void t()}},Z.prototype.getAccounts=function(t){t(null,[])},Z.prototype.processTransaction=function(e,t){var r=this;Object(d.p)([function(t){return r.approveTransaction(e,t)},function(t,e){return r.checkApproval("transaction",t,e)},function(t){return r.finalizeAndSubmitTx(e,t)}],t)},Z.prototype.processSignTransaction=function(e,t){var r=this;Object(d.p)([function(t){return r.approveTransaction(e,t)},function(t,e){return r.checkApproval("transaction",t,e)},function(t){return r.finalizeTx(e,t)}],t)},Z.prototype.processMessage=function(e,t){var r=this;Object(d.p)([function(t){return r.approveMessage(e,t)},function(t,e){return r.checkApproval("message",t,e)},function(t){return r.signMessage(e,t)}],t)},Z.prototype.processPersonalMessage=function(e,t){var r=this;Object(d.p)([function(t){return r.approvePersonalMessage(e,t)},function(t,e){return r.checkApproval("message",t,e)},function(t){return r.signPersonalMessage(e,t)}],t)},Z.prototype.processTypedMessage=function(e,t){var r=this;Object(d.p)([function(t){return r.approveTypedMessage(e,t)},function(t,e){return r.checkApproval("message",t,e)},function(t){return r.signTypedMessage(e,t)}],t)},Z.prototype.processTypedMessageV3=function(e,t){var r=this;Object(d.p)([function(t){return r.approveTypedMessageV3(e,t)},function(t,e){return r.checkApproval("message",t,e)},function(t){return r.signTypedMessageV3(e,t)}],t)},Z.prototype.autoApprove=function(t,e){e(null,!0)},Z.prototype.checkApproval=function(t,e,r){r(e?null:new Error("User denied "+t+" signature."))},Z.prototype.parityPostTransaction=function(t,e){var r=this,n="0x".concat(r._parityRequestCount.toString(16));r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[t]},function(t,e){t?r._parityRequests[n]={error:t}:(e=e.result,r._parityRequests[n]=e)}),e(null,n)},Z.prototype.parityPostSign=function(t,e,r){var n=this,i="0x".concat(n._parityRequestCount.toString(16));n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[t,e]},function(t,e){t?n._parityRequests[i]={error:t}:(e=e.result,n._parityRequests[i]=e)}),r(null,i)},Z.prototype.parityCheckRequest=function(t,e){t=this._parityRequests[t]||null;return t?t.error?e(t.error):void e(null,t):e(null,null)},Z.prototype.recoverPersonalSignature=function(t,e){var r;try{r=d.o.recoverPersonalSignature(t)}catch(t){return e(t)}e(null,r)},Z.prototype.validateTransaction=function(r,n){if(void 0===r.from)return n(new Error("Undefined address - from address required to sign transaction."));this.validateSender(r.from,function(t,e){return t?n(t):e?void n():n(new Error('Unknown address - unable to sign transaction for this address: "'.concat(r.from,'"')))})},Z.prototype.validateMessage=function(r,n){if(void 0===r.from)return n(new Error("Undefined address - from address required to sign message."));this.validateSender(r.from,function(t,e){return t?n(t):e?void n():n(new Error('Unknown address - unable to sign message for this address: "'.concat(r.from,'"')))})},Z.prototype.validatePersonalMessage=function(r,n){return void 0===r.from?n(new Error("Undefined address - from address required to sign personal message.")):void 0===r.data?n(new Error("Undefined message - message required to sign personal message.")):Y(r.data)?void this.validateSender(r.from,function(t,e){return t?n(t):e?void n():n(new Error('Unknown address - unable to sign message for this address: "'.concat(r.from,'"')))}):n(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},Z.prototype.validateTypedMessage=function(r,n){return void 0===r.from?n(new Error("Undefined address - from address required to sign typed data.")):void 0===r.data?n(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(r.from,function(t,e){return t?n(t):e?void n():n(new Error('Unknown address - unable to sign message for this address: "'.concat(r.from,'"')))})},Z.prototype.validateTypedMessageV3=function(r,n){return void 0===r.from?n(new Error("Undefined address - from address required to sign typed data.")):void 0===r.data?n(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(r.from,function(t,e){return t?n(t):e?void n():n(new Error('Unknown address - unable to sign message for this address: "'.concat(r.from,'"')))})},Z.prototype.validateSender=function(r,n){if(!r)return n(null,!1);this.getAccounts(function(t,e){if(t)return n(t);e=-1!==e.map(W).indexOf(r.toLowerCase());n(null,e)})},Z.prototype.finalizeAndSubmitTx=function(t,r){var n=this;n.nonceLock.take(function(){Object(d.p)([n.fillInTxExtras.bind(n,t),n.signTransaction.bind(n),n.publishTransaction.bind(n)],function(t,e){return n.nonceLock.leave(),t?r(t):void r(null,e)})})},Z.prototype.finalizeTx=function(r,n){var i=this;i.nonceLock.take(function(){Object(d.p)([i.fillInTxExtras.bind(i,r),i.signTransaction.bind(i)],function(t,e){return i.nonceLock.leave(),t?n(t):void n(null,{raw:e,tx:r})})})},Z.prototype.publishTransaction=function(t,r){this.emitPayload({method:"eth_sendRawTransaction",params:[t]},function(t,e){return t?r(t):void r(null,e.result)})},Z.prototype.estimateGas=function(t,e){var r,n;r=this.engine,n=e,r.sendAsync(_({method:"eth_estimateGas",params:[t]}),function(t,e){return t?"no contract code at given address"===t.message?n(null,"0xcf08"):n(t):void n(null,e.result)})},Z.prototype.getGasPrice=function(r){this.emitPayload({method:"eth_gasPrice",params:[]},function(t,e){return t?r(t):void r(null,e.result)})},Z.prototype.fillInTxExtras=function(r,n){var t=this,e=r.from,i={};void 0===r.gasPrice&&(i.gasPrice=t.getGasPrice.bind(t)),void 0===r.nonce&&(i.nonce=t.emitPayload.bind(t,{method:"eth_getTransactionCount",params:[e,"pending"]})),void 0===r.gas&&(i.gas=t.estimateGas.bind(t,{from:r.from,to:r.to,value:r.value,data:r.data,gas:r.gas,gasPrice:r.gasPrice,nonce:r.nonce})),Object(d.n)(i,function(t,e){if(t)return n(t);t={};e.gasPrice&&(t.gasPrice=e.gasPrice),e.nonce&&(t.nonce=e.nonce.result),e.gas&&(t.gas=e.gas),n(null,Object(d.h)(r,t))})};var Q={v:5e3,d:"Gas limit of the Genesis block."},tt={v:17179869184,d:"Difficulty of the Genesis block."},et={v:"0x0000000000000042",d:"the geneis nonce"},rt={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},nt={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},it={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},ot={v:5e3,d:"Minimum the gas limit may ever be."},at={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},st={v:131072,d:"The minimum that the difficulty may ever be."},ut={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},ct={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},ht={v:32,d:"Maximum size extra data may be after Genesis."},lt={v:3e4,d:"Duration between proof-of-work epochs."},ft={v:1024,d:"Maximum size of VM stack allowed."},dt={v:1024,d:"Maximum depth of call/create stack."},pt={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},mt={v:10,d:"Once per EXP instuction."},gt={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},vt={v:30,d:"Once per SHA3 operation."},yt={v:6,d:"Once per word of the SHA3 operation's data."},wt={v:50,d:"Once per SLOAD operation."},bt={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},_t={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},Mt={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},kt={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},Et={v:375,d:"Per LOG* operation."},xt={v:8,d:"Per byte in a LOG* operation's data."},At={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},Tt={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},St={v:40,d:"Once per CALL operation & message call transaction."},Pt={v:2300,d:"Free gas given at beginning of call."},Ot={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},Bt={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},Rt={v:24e3,d:"Refunded following a suicide operation."},Ct={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},Nt={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},It={v:200,d:""},Lt={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},jt={v:32e3,d:"the cost of creating a contract via tx"},Dt={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},qt={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},Ft={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},Ut={v:3e3,d:""},Gt={v:60,d:""},zt={v:12,d:""},Kt={v:600,d:""},Ht={v:120,d:""},Vt={v:15,d:""},Zt={v:3,d:""},e={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},r={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},p={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},y={v:115e4,d:"the block that the Homestead fork started at"},n={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},k={v:1e5,d:"Exponential difficulty timebomb period"},q={v:2},K={genesisGasLimit:Q,genesisDifficulty:tt,genesisNonce:et,genesisExtraData:rt,genesisHash:nt,genesisStateRoot:it,minGasLimit:ot,gasLimitBoundDivisor:at,minimumDifficulty:st,difficultyBoundDivisor:ut,durationLimit:ct,maximumExtraDataSize:ht,epochDuration:lt,stackLimit:ft,callCreateDepth:dt,tierStepGas:pt,expGas:mt,expByteGas:gt,sha3Gas:vt,sha3WordGas:yt,sloadGas:wt,sstoreSetGas:bt,sstoreResetGas:_t,sstoreRefundGas:Mt,jumpdestGas:kt,logGas:Et,logDataGas:xt,logTopicGas:At,createGas:Tt,callGas:St,callStipend:Pt,callValueTransferGas:Ot,callNewAccountGas:Bt,suicideRefundGas:Rt,memoryGas:Ct,quadCoeffDiv:Nt,createDataGas:It,txGas:Lt,txCreation:jt,txDataZeroGas:Dt,txDataNonZeroGas:qt,copyGas:Ft,ecrecoverGas:Ut,sha256Gas:Gt,sha256WordGas:zt,ripemd160Gas:Kt,ripemd160WordGas:Ht,identityGas:Vt,identityWordGas:Zt,minerReward:e,ommerReward:r,niblingReward:p,homeSteadForkNumber:y,homesteadRepriceForkNumber:n,timebombPeriod:k,freeBlockPeriod:q},Wt=Object(l.f)(Object.freeze({__proto__:null,genesisGasLimit:Q,genesisDifficulty:tt,genesisNonce:et,genesisExtraData:rt,genesisHash:nt,genesisStateRoot:it,minGasLimit:ot,gasLimitBoundDivisor:at,minimumDifficulty:st,difficultyBoundDivisor:ut,durationLimit:ct,maximumExtraDataSize:ht,epochDuration:lt,stackLimit:ft,callCreateDepth:dt,tierStepGas:pt,expGas:mt,expByteGas:gt,sha3Gas:vt,sha3WordGas:yt,sloadGas:wt,sstoreSetGas:bt,sstoreResetGas:_t,sstoreRefundGas:Mt,jumpdestGas:kt,logGas:Et,logDataGas:xt,logTopicGas:At,createGas:Tt,callGas:St,callStipend:Pt,callValueTransferGas:Ot,callNewAccountGas:Bt,suicideRefundGas:Rt,memoryGas:Ct,quadCoeffDiv:Nt,createDataGas:It,txGas:Lt,txCreation:jt,txDataZeroGas:Dt,txDataNonZeroGas:qt,copyGas:Ft,ecrecoverGas:Ut,sha256Gas:Gt,sha256WordGas:zt,ripemd160Gas:Kt,ripemd160WordGas:Ht,identityGas:Vt,identityWordGas:Zt,minerReward:e,ommerReward:r,niblingReward:p,homeSteadForkNumber:y,homesteadRepriceForkNumber:n,timebombPeriod:k,freeBlockPeriod:q,default:K})),Jt=d.d.BN,Xt=new Jt("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Yt=(Qt.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},Qt.prototype.hash=function(t){var e=void 0;return(t=void 0===t?!0:t)?e=this.raw:this._chainId>0?(t=this.raw.slice(),this.v=this._chainId,this.r=0,this.s=0,e=this.raw,this.raw=t):e=this.raw.slice(0,6),d.d.rlphash(e)},Qt.prototype.getChainId=function(){return this._chainId},Qt.prototype.getSenderAddress=function(){if(this._from)return this._from;var t=this.getSenderPublicKey();return this._from=d.d.publicToAddress(t),this._from},Qt.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},Qt.prototype.verifySignature=function(){var t=this.hash(!1);if(this._homestead&&1===new Jt(this.s).cmp(Xt))return!1;try{var e=d.d.bufferToInt(this.v);this._chainId>0&&(e-=2*this._chainId+8),this._senderPubKey=d.d.ecrecover(t,e,this.r,this.s)}catch(t){return!1}return!!this._senderPubKey},Qt.prototype.sign=function(t){var e=this.hash(!1),t=d.d.ecsign(e,t);this._chainId>0&&(t.v+=2*this._chainId+8),Object.assign(this,t)},Qt.prototype.getDataFee=function(){for(var t=this.raw[5],e=new Jt(0),r=0;r<t.length;r++)0===t[r]?e.iaddn(Wt.txDataZeroGas.v):e.iaddn(Wt.txDataNonZeroGas.v);return e},Qt.prototype.getBaseFee=function(){var t=this.getDataFee().iaddn(Wt.txGas.v);return this._homestead&&this.toCreationAddress()&&t.iaddn(Wt.txCreation.v),t},Qt.prototype.getUpfrontCost=function(){return new Jt(this.gasLimit).imul(new Jt(this.gasPrice)).iadd(new Jt(this.value))},Qt.prototype.validate=function(t){var e=[];return this.verifySignature()||e.push("Invalid Signature"),this.getBaseFee().cmp(new Jt(this.gasLimit))>0&&e.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===t||!1===t?0===e.length:e.join(" ")},Qt),m=m.a.inherits,$t=te;function Qt(t){!function(t){if(!(t instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this),t=t||{};var e=[{name:"nonce",length:32,allowLess:!0,default:new u([])},{name:"gasPrice",length:32,allowLess:!0,default:new u([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new u([])},{name:"to",allowZero:!0,length:20,default:new u([])},{name:"value",length:32,allowLess:!0,default:new u([])},{name:"data",alias:"input",allowZero:!0,default:new u([])},{name:"v",allowZero:!0,default:new u([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new u([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new u([])}];d.d.defineProperties(this,e,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});e=d.d.bufferToInt(this.v),e=Math.floor((e-35)/2);e<0&&(e=0),this._chainId=e||t.chainId||0,this._homestead=!0}function te(t){this.nonceCache={}}m(te,A),te.prototype.handleRequest=function(i,t,e){var r,o=this;switch(i.method){case"eth_getTransactionCount":var n=(r=i,(s=function(){switch(r.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}())>=r.params.length?null:r.params[s]),a=i.params[0].toLowerCase(),s=o.nonceCache[a];return void("pending"===n?s?e(null,s):t(function(t,e,r){return t?r():(void 0===o.nonceCache[a]&&(o.nonceCache[a]=e),void r())}):t());case"eth_sendRawTransaction":return void t(function(t,e,r){if(t)return r();var n=i.params[0],t=(d.d.stripHexPrefix(n),u.from(d.d.stripHexPrefix(n),"hex"),new Yt(u.from(d.d.stripHexPrefix(n),"hex"))),n="0x"+t.getSenderAddress().toString("hex").toLowerCase(),t=d.d.bufferToInt(t.nonce),t="0x"+(t=(t=(++t).toString(16)).length%2?"0"+t:t);o.nonceCache[n]=t,r()});case"evm_revert":return o.nonceCache={},void t();default:return void t()}};var ee=function(t){Object(c.a)(r,t);var e=Object(h.a)(r);function r(){return Object(a.a)(this,r),e.call(this,function(t){var e=t.blockTracker,r=t.provider,n=t.engine,e=Object(d.f)({blockTracker:e,provider:r}),r=e.events,e=e.middleware;return r.on("notification",function(t){return n.emit("data",null,t)}),e})}return r}(S),S=Object(l.b)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ERR_NOT_IN_IFRAME=e.ERR_CONNECTION_TIMEOUT=e.ERR_CONNECTION_DESTROYED=void 0;var v="message";e.ERR_CONNECTION_DESTROYED="ConnectionDestroyed",e.ERR_CONNECTION_TIMEOUT="ConnectionTimeout",e.ERR_NOT_IN_IFRAME="NotInIframe";function y(){if(M.debug){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).log.apply(t,["[Penpal]"].concat(r))}}function w(t){var e=[];return t(function(){e.forEach(function(t){t()})}),{then:function(t){e.push(t)}}}function c(t){return{name:t.name,message:t.message,stack:t.stack}}function b(t,e,r,n){var c=e.localName,h=e.local,l=e.remote,f=e.remoteOrigin,i=!1;y("".concat(c,": Connecting call sender")),n.then(function(){i=!0}),r.reduce(function(t,e){return t[e]=(u=e,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(y("".concat(c,": Sending ").concat(u,"() call")),i){var n=new Error("Unable to send ".concat(u,"() call due ")+"to destroyed connection");throw n.code="ConnectionDestroyed",n}return new M.Promise(function(o,a){var s=d();h.addEventListener(v,function t(e){var r,n,i;e.source===l&&e.origin===f&&"reply"===e.data.penpal&&e.data.id===s&&(y("".concat(c,": Received ").concat(u,"() reply")),h.removeEventListener(v,t),r=e.data.returnValue,e.data.returnValueIsError&&(n=r,i=new Error,Object.keys(n).forEach(function(t){return i[t]=n[t]}),r=i),("fulfilled"===e.data.resolution?o:a)(r))}),l.postMessage({penpal:"call",id:s,methodName:u,args:e},f)})}),t;var u},t)}function _(t,r,e){var o=t.localName,n=t.local,a=t.remote,s=t.remoteOrigin,u=!1;function i(t){var n,e,i;t.source===a&&t.origin===s&&"call"===t.data.penpal&&(t=t.data,n=t.methodName,e=t.args,i=t.id,y("".concat(o,": Received ").concat(n,"() call")),n in r&&(t=function(r){return function(t){if(y("".concat(o,": Sending ").concat(n,"() reply")),u)y("".concat(o,": Unable to send ").concat(n,"() reply due to destroyed connection"));else{var e={penpal:"reply",id:i,resolution:r,returnValue:t};"rejected"===r&&t instanceof Error&&(e.returnValue=c(t),e.returnValueIsError=!0);try{a.postMessage(e,s)}catch(t){throw"DataCloneError"===t.name&&a.postMessage({penpal:"reply",id:i,resolution:"rejected",returnValue:c(t),returnValueIsError:!0},s),t}}}},new M.Promise(function(t){return t(r[n].apply(r,e))}).then(t("fulfilled"),t("rejected"))))}y("".concat(o,": Connecting call receiver")),n.addEventListener(v,i),e.then(function(){u=!0,n.removeEventListener(v,i)})}var r,o={"http:":"80","https:":"443"},a=/^(https?:)?\/\/([^/:]+)(:(\d+))?/,M={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_NOT_IN_IFRAME:"NotInIframe",Promise:function(){try{return window?window.Promise:null}catch(t){return null}}(),debug:!1},d=(r=0,function(){return++r});M.connectToChild=function(t){var u,c=t.url,e=t.appendTo,r=t.methods,h=void 0===r?{}:r,l=t.timeout,f=new w(function(t){u=t}),d=window,p=document.createElement("iframe");(e||document.body).appendChild(p),f.then(function(){p.parentNode&&p.parentNode.removeChild(p)});var n,i,m=p.contentWindow||p.contentDocument.parentWindow,g=(t=document.location,e=a.exec(c),t=(t=e?(n=e[1]||t.protocol,i=e[2],e[4]):(n=t.protocol,i=t.hostname,t.port))&&t!==o[n]?":".concat(t):"","".concat(n,"//").concat(i).concat(t));return{promise:new M.Promise(function(n,e){var i;void 0!==l&&(i=setTimeout(function(){var t=new Error("Connection to child timed out after ".concat(l,"ms"));t.code="ConnectionTimeout",e(t),u()},l));function r(t){var e,r;t.source===m&&t.origin===g&&"handshake"===t.data.penpal&&(y("Parent: Received handshake, sending reply"),t.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(h)},t.origin),e={localName:"Parent",local:d,remote:m,remoteOrigin:t.origin},a&&a(),r=new w(function(t){f.then(t),a=t}),_(e,h,r),o&&o.forEach(function(t){delete s[t]}),o=t.data.methodNames,b(s,e,o,f),clearTimeout(i),n(s))}var o,a,s={};d.addEventListener(v,r),f.then(function(){d.removeEventListener(v,r);var t=new Error("Connection destroyed");t.code="ConnectionDestroyed",e(t)}),y("Parent: Loading iframe"),p.src=c}),iframe:p,destroy:u}},M.connectToParent=function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.parentOrigin,a=void 0===e?"*":e,e=t.methods,s=void 0===e?{}:e,u=t.timeout;if(window===window.top){t=new Error("connectToParent() must be called within an iframe");throw t.code="NotInIframe",t}var c=new w(function(t){r=t}),h=window,l=h.parent;return{promise:new M.Promise(function(n,e){var i;void 0!==u&&(i=setTimeout(function(){var t=new Error("Connection to parent timed out after ".concat(u,"ms"));t.code="ConnectionTimeout",e(t),r()},u));function o(t){var e,r;"*"!==a&&a!==t.origin||t.source!==l||"handshake-reply"!==t.data.penpal||(y("Child: Received handshake reply"),h.removeEventListener(v,o),e={localName:"Child",local:h,remote:l,remoteOrigin:t.origin},r={},_(e,s,c),b(r,e,t.data.methodNames,c),clearTimeout(i),n(r))}h.addEventListener(v,o),c.then(function(){h.removeEventListener(v,o);var t=new Error("Connection destroyed");t.code="ConnectionDestroyed",e(t)}),y("Child: Sending handshake"),l.postMessage({penpal:"handshake",methodNames:Object.keys(s)},a)}),destroy:r}};e.default=M}),re=Object(l.c)(S);function ne(t,e){var r="string"==typeof t?Object.assign({},ie[t]):t;if("object"!=typeof r)throw new Error("[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(!r.nodeUrl)throw new Error("[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(e&&!r.gasRelayHubAddress)throw new Error("[Portis] can't find default gas relay hub for "+t);return"string"!=typeof t||e||delete r.gasRelayHubAddress,r}S.ERR_NOT_IN_IFRAME,S.ERR_CONNECTION_TIMEOUT,S.ERR_CONNECTION_DESTROYED;var ie={mainnet:{nodeUrl:"https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"1",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},ropsten:{nodeUrl:"https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"3",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},rinkeby:{nodeUrl:"https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"4",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},goerli:{nodeUrl:"https://goerli.prylabs.net",chainId:"5"},ubiq:{nodeUrl:"https://rpc1.ubiqscan.io",chainId:"8"},thundercoreTestnet:{nodeUrl:"https://testnet-rpc.thundercore.com:8544",chainId:"18"},orchid:{nodeUrl:"https://public-node.rsk.co",chainId:"30"},orchidTestnet:{nodeUrl:"https://public-node.testnet.rsk.co",chainId:"31"},kovan:{nodeUrl:"https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"42",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},classic:{nodeUrl:"https://ethereumclassic.network",chainId:"61"},sokol:{nodeUrl:"https://sokol.poa.network",chainId:"77"},core:{nodeUrl:"https://core.poa.network",chainId:"99"},xdai:{nodeUrl:"https://dai.poa.network",chainId:"100",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},thundercore:{nodeUrl:"https://mainnet-rpc.thundercore.com",chainId:"108"},fuse:{nodeUrl:"https://rpc.fusenet.io",chainId:"122"},lightstreams:{nodeUrl:"https://node.mainnet.lightstreams.io",chainId:"163"},maticAlpha:{nodeUrl:"https://alpha.ethereum.matic.network",chainId:"4626"},maticTestnet:{nodeUrl:"https://testnet2.matic.network",chainId:"8995"}},oe=window&&window.__awaiter||function(o,a,s,u){return new(s=s||Promise)(function(t,e){function r(t){try{i(u.next(t))}catch(t){e(t)}}function n(t){try{i(u.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(r,n)}i((u=u.apply(o,a||[])).next())})},ae=window&&window.__generator||function(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},S=Rr(980),se=S.addHexPrefix,ue=S.stripHexPrefix,ce=S.BN;function he(o,a){return oe(this,void 0,void 0,function(){var e,r,n,i;return ae(this,function(t){switch(t.label){case 0:return[4,o.getBlockByNumber("latest",!1)];case 1:return e=t.sent(),[4,function(o,a,s){return oe(this,void 0,void 0,function(){var i;return ae(this,function(t){switch(t.label){case 0:return Boolean(a.gas)?[2,{safeGas:a.gas,simpleSend:!1,gasLimitSpecified:!0}]:(i=a.to,Boolean(i)?[4,o.getCode(i)]:[3,2]);case 1:if(!(i=t.sent())||"0x"===i||"0x0"===i){if(a.data)throw new Error("Trying to call a function on a non-contract address");return[2,{safeGas:"0x5208",simpleSend:!0,gasLimitSpecified:!1}]}t.label=2;case 2:return e=le(s),r=new ce(19),n=new ce(20),[2,{safeGas:fe(e.mul(r).div(n)),simpleSend:!1,gasLimitSpecified:!1}]}var e,r,n})})}(o,a,e.gasLimit)];case 2:if(i=t.sent(),r=i.safeGas,n=i.simpleSend,i=i.gasLimitSpecified,n||i)return[2,r];t.label=3;case 3:return t.trys.push([3,5,,6]),[4,function(o,a,s,u){return oe(this,void 0,void 0,function(){var i;return ae(this,function(t){switch(t.label){case 0:return a.gas=u,i=se,[4,o.estimateGas(a)];case 1:return[2,(e=i.apply(void 0,[t.sent()]),r=s,n=le(e),e=le(r).muln(.9),r=n.muln(1.5),n.gt(e)?fe(n):r.lt(e)?fe(r):fe(e))]}var e,r,n})})}(o,a,e.gasLimit,r)];case 4:return[2,t.sent()];case 5:return t.sent(),[2,r];case 6:return[2]}})})}function le(t){return new ce(ue(t),16)}function fe(t){return se(t.toString(16))}var de=(me.prototype.getBlockByNumber=function(t,e){return this.sendAsync("eth_getBlockByNumber",t,e)},me.prototype.getCode=function(t,e){return void 0===e&&(e="latest"),this.sendAsync("eth_getCode",t,e)},me.prototype.estimateGas=function(t){return this.sendAsync("eth_estimateGas",t)},me.prototype.sendAsync=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return new Promise(function(r,n){e.provider.sendAsync({id:42,jsonrpc:"2.0",method:t,params:i},function(t,e){t?n(t):r(e.result)})})},me),pe=!1;function me(t){this.provider=t}function ge(){return new Promise(function(t){pe?t():["loaded","interactive","complete"].indexOf(document.readyState)>-1?(pe=!0,t()):window.addEventListener("load",function(){pe=!0,t()},!1)})}function ve(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}}var ye={Blockchain:(Object(o.a)(be,[{key:"toJSON",value:function(){return JSON.parse('{ "name":"'+this.name+'", "netID":"'+this.netID+'"}')}}]),be)},we=Object.prototype.toString;function be(t,e){Object(a.a)(this,be),this.name=t,this.netID=e}function _e(t){return"[object Array]"===we.call(t)}function Me(t){return null!==t&&"object"==typeof t}function ke(t){return"[object Function]"===we.call(t)}function Ee(t,e){if(null!=t)if(_e(t="object"!=typeof t?[t]:t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function xe(t,e,r,n,i){return t=new Error(t),r=r,n=n,i=i,t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}var Ae={isArray:_e,isArrayBuffer:function(t){return"[object ArrayBuffer]"===we.call(t)},isBuffer:function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Me,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===we.call(t)},isFile:function(t){return"[object File]"===we.call(t)},isBlob:function(t){return"[object Blob]"===we.call(t)},isFunction:ke,isStream:function(t){return Me(t)&&ke(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Ee,merge:function r(){var n={};function t(t,e){"object"==typeof n[e]&&"object"==typeof t?n[e]=r(n[e],t):n[e]=t}for(var e=0,i=arguments.length;e<i;e++)Ee(arguments[e],t);return n},extend:function(r,t,n){return Ee(t,function(t,e){r[e]=n&&"function"==typeof t?ve(t,n):t}),r},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function Te(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Se,Pe,Oe,Be=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Re=Ae.isStandardBrowserEnv()?(Pe=/(msie|trident)/i.test(navigator.userAgent),Oe=document.createElement("a"),Se=Ie(window.location.href),function(t){t=Ae.isString(t)?Ie(t):t;return t.protocol===Se.protocol&&t.host===Se.host}):function(){return!0},Ce=Ae.isStandardBrowserEnv()?{write:function(t,e,r,n,i,o){var a=[];a.push(t+"="+encodeURIComponent(e)),Ae.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ae.isString(n)&&a.push("path="+n),Ae.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){t=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Ne={"Content-Type":"application/x-www-form-urlencoded"};function Ie(t){return Pe&&(Oe.setAttribute("href",t),t=Oe.href),Oe.setAttribute("href",t),{href:Oe.href,protocol:Oe.protocol?Oe.protocol.replace(/:$/,""):"",host:Oe.host,search:Oe.search?Oe.search.replace(/^\?/,""):"",hash:Oe.hash?Oe.hash.replace(/^#/,""):"",hostname:Oe.hostname,port:Oe.port,pathname:"/"===Oe.pathname.charAt(0)?Oe.pathname:"/"+Oe.pathname}}function Le(t,e){!Ae.isUndefined(t)&&Ae.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var je={adapter:Ye="undefined"!=typeof XMLHttpRequest||"undefined"!=typeof t?function(h){return new Promise(function(s,u){var r=h.data,n=h.headers;Ae.isFormData(r)&&delete n["Content-Type"];var t,e,c=new XMLHttpRequest;if(h.auth&&(t=h.auth.username||"",e=h.auth.password||"",n.Authorization="Basic "+btoa(t+":"+e)),c.open(h.method.toUpperCase(),function(t,e,r){if(!e)return t;var n,e=r?r(e):Ae.isURLSearchParams(e)?e.toString():(n=[],Ae.forEach(e,function(t,e){null!=t&&(Ae.isArray(t)?e+="[]":t=[t],Ae.forEach(t,function(t){Ae.isDate(t)?t=t.toISOString():Ae.isObject(t)&&(t=JSON.stringify(t)),n.push(Te(e)+"="+Te(t))}))}),n.join("&"));return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(h.url,h.params,h.paramsSerializer),!0),c.timeout=h.timeout,c.onreadystatechange=function(){var e,r,n,t,i,o,a;c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&(o="getAllResponseHeaders"in c?(i=c.getAllResponseHeaders(),n={},i&&Ae.forEach(i.split("\n"),function(t){r=t.indexOf(":"),e=Ae.trim(t.substr(0,r)).toLowerCase(),r=Ae.trim(t.substr(r+1)),e&&(n[e]&&Be.indexOf(e)>=0||(n[e]="set-cookie"===e?(n[e]||[]).concat([r]):n[e]?n[e]+", "+r:r))}),n):null,a={data:h.responseType&&"text"!==h.responseType?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:o,config:h,request:c},t=s,i=u,a=(o=a).config.validateStatus,o.status&&a&&!a(o.status)?i(xe("Request failed with status code "+o.status,o.config,null,o.request,o)):t(o),c=null)},c.onerror=function(){u(xe("Network Error",h,null,c)),c=null},c.ontimeout=function(){u(xe("timeout of "+h.timeout+"ms exceeded",h,"ECONNABORTED",c)),c=null},Ae.isStandardBrowserEnv()&&(e=Ce,(e=(h.withCredentials||Re(h.url))&&h.xsrfCookieName?e.read(h.xsrfCookieName):void 0)&&(n[h.xsrfHeaderName]=e)),"setRequestHeader"in c&&Ae.forEach(n,function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete n[e]:c.setRequestHeader(e,t)}),h.withCredentials&&(c.withCredentials=!0),h.responseType)try{c.responseType=h.responseType}catch(s){if("json"!==h.responseType)throw s}"function"==typeof h.onDownloadProgress&&c.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(t){c&&(c.abort(),u(t),c=null)}),void 0===r&&(r=null),c.send(r)})}:Ye,transformRequest:[function(t,e){return r=e,n="Content-Type",Ae.forEach(r,function(t,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=t,delete r[e])}),Ae.isFormData(t)||Ae.isArrayBuffer(t)||Ae.isBuffer(t)||Ae.isStream(t)||Ae.isFile(t)||Ae.isBlob(t)?t:Ae.isArrayBufferView(t)?t.buffer:Ae.isURLSearchParams(t)?(Le(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ae.isObject(t)?(Le(e,"application/json;charset=utf-8"),JSON.stringify(t)):t;var r,n}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ae.forEach(["delete","get","head"],function(t){je.headers[t]={}}),Ae.forEach(["post","put","patch"],function(t){je.headers[t]=Ae.merge(Ne)});var De=je;function qe(){this.handlers=[]}qe.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},qe.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},qe.prototype.forEach=function(e){Ae.forEach(this.handlers,function(t){null!==t&&e(t)})};function Fe(e,r,t){return Ae.forEach(t,function(t){e=t(e,r)}),e}function Ue(t){return!(!t||!t.__CANCEL__)}var Ge=qe;function ze(t){t.cancelToken&&t.cancelToken.throwIfRequested()}function Ke(e){var t,r;return ze(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(r=e.url)?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=Fe(e.data,e.headers,e.transformRequest),e.headers=Ae.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),Ae.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||De.adapter)(e).then(function(t){return ze(e),t.data=Fe(t.data,t.headers,e.transformResponse),t},function(t){return Ue(t)||(ze(e),t&&t.response&&(t.response.data=Fe(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function He(t){this.defaults=t,this.interceptors={request:new Ge,response:new Ge}}He.prototype.request=function(t){"string"==typeof t&&(t=Ae.merge({url:arguments[0]},arguments[1])),(t=Ae.merge(De,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[Ke,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},Ae.forEach(["delete","get","head","options"],function(r){He.prototype[r]=function(t,e){return this.request(Ae.merge(e||{},{method:r,url:t}))}}),Ae.forEach(["post","put","patch"],function(n){He.prototype[n]=function(t,e,r){return this.request(Ae.merge(r||{},{method:n,url:t,data:e}))}});var Ve=He;function Ze(t){this.message=t}Ze.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ze.prototype.__CANCEL__=!0;var We=Ze;function Je(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new We(t),e(r.reason))})}Je.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Je.source=function(){var e;return{token:new Je(function(t){e=t}),cancel:e}};t=Je;function Xe(t){var e=new Ve(t),t=ve(Ve.prototype.request,e);return Ae.extend(t,Ve.prototype,e),Ae.extend(t,e),t}var Ye=Xe(De);Ye.Axios=Ve,Ye.create=function(t){return Xe(Ae.merge(De,t))},Ye.Cancel=We,Ye.CancelToken=t,Ye.isCancel=Ue,Ye.all=function(t){return Promise.all(t)},Ye.spread=function(e){return function(t){return e.apply(null,t)}};t=Ye;t.default=Ye;var $e,Qe,tr,er,rr,nr,ir,or=t,ar="https://dispatch.pokt.network",sr="/v1/dispatch",ur={Node:(Object(o.a)(Pr,[{key:"isValid",value:function(){for(var t in this)if(!this.hasOwnProperty(t)||""==this[t])return!1;return!0}},{key:"isEqual",value:function(t,e){return this.netID==t.toString()&&this.network==e.toString()}},{key:"sendRelay",value:(ir=Object(i.a)(f.a.mark(function t(e,r){var n,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=or.create({baseURL:this.ipPort,timeout:e.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}}),t.next=4,i.post("/v1/relay/",e.toJSON());case 4:if(200==(n=t.sent).status&&null!=n.data)return i=n.data,t.abrupt("return",r?void r(i,null):i);t.next=8;break;case 8:return t.abrupt("return",r?void r(null,new Error("Failed to send relay with error: "+n.data)):new Error("Failed to send relay with error: "+n.data));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",r?void r(null,new Error("Failed to send relay with error: "+t.t0)):new Error("Failed to send relay with error: "+t.t0));case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(t,e){return ir.apply(this,arguments)})}]),Pr)},cr=ur.Node,hr={Dispatch:(Object(o.a)(Sr,[{key:"blockchainsJSON",value:function(){var e=[];return this.configuration.blockchains.forEach(function(t){e.push(t)}),e}},{key:"retrieveServiceNodes",value:(nr=Object(i.a)(f.a.mark(function t(e){var r,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axiosInstance.post(sr,{DevID:this.configuration.devID,Blockchains:this.blockchainsJSON()});case 3:if(t.t2=r=t.sent,t.t1=null!=t.t2,!t.t1){t.next=7;break}t.t1=200==r.status;case 7:if(t.t0=t.t1,!t.t0){t.next=10;break}t.t0=null!=r.data;case 10:if(t.t0)return n=this.parseDispatchResponse(r.data),t.abrupt("return",e?void e(n,null):n);t.next=13;break;case 13:return t.abrupt("return",e?void e(null,new Error("Failed to retrieve service nodes with error: "+r.data)):new Error("Failed to retrieve service nodes with error: "+r.data));case 16:return t.prev=16,t.t3=t.catch(0),t.abrupt("return",e?void e(null,new Error("Failed to retrieve service nodes with error: "+t.t3)):new Error("Failed to retrieve service nodes with error: "+t.t3));case 19:case"end":return t.stop()}},t,this,[[0,16]])})),function(t){return nr.apply(this,arguments)})},{key:"parseDispatchResponse",value:function(t){try{var e,r,n=[];return Array.isArray(t)?t.forEach(function(t){var e=t.name,r=t.netid;t.ips&&t.ips.forEach(function(t){t=new cr(e,r,t);n.push(t)})}):(e=t.name,r=t.netid,t.ips&&t.ips.forEach(function(t){t=new cr(e,r,t);n.push(t)})),n}catch(t){return new Error("Failed to parsed service nodes with error: "+t)}}}]),Sr)},lr={Relay:(Object(o.a)(Tr,[{key:"toJSON",value:function(){return{Blockchain:this.blockchain,NetID:this.netID,Data:this.data,DevID:this.configuration.devID}}},{key:"isValid",value:function(){for(var t in this)if(!this.hasOwnProperty(t)||""==this[t])return!1;return!0}}]),Tr)},fr={Report:(Object(o.a)(Ar,[{key:"toJSON",value:function(){return{IP:this.ip,Message:this.message}}},{key:"isValid",value:function(){for(var t in this)if(!this.hasOwnProperty(t)||""==this[t])return!1;return!0}},{key:"send",value:(rr=Object(i.a)(f.a.mark(function t(e){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=or.create({baseURL:ar,timeout:this.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}}),t.next=3,r.post("/v1/report",this.toJSON());case 3:return r=t.sent,t.abrupt("return",200==r.status&&null!=r.data?e?void e(null,r.data):r.data:e?void e(new Error("Failed to send report with error: "+r.data)):new Error("Failed to send report with error: "+r.data));case 5:case"end":return t.stop()}},t,this)})),function(t){return rr.apply(this,arguments)})}]),Ar)},dr={Wallet:function t(e,r,n,i,o){Object(a.a)(this,t),this.address=e,this.privateKey=r,this.network=n,this.networkID=i,this.data=o}},l=Object(l.b)(function(t){t.exports=Object.assign(t.exports,ye,hr,ur,lr,fr,dr)}),pr=l.Blockchain,mr=l.Dispatch,gr=l.Relay,vr=l.Report,yr=(Object(o.a)(xr,[{key:"nodesIsEmpty",value:function(){return null==this.nodes||0==this.nodes.length}}]),xr),wr={Pocket:(Object(o.a)(Er,[{key:"createRelay",value:function(t,e,r){return new gr(t,e,"string"==typeof r?r:JSON.stringify(r),this.configuration)}},{key:"createReport",value:function(t,e){return new vr(t,e,this.configuration)}},{key:"getDispatch",value:function(){return null==this.dispatch&&(this.dispatch=new mr(this.configuration)),this.dispatch}},{key:"getNode",value:(er=Object(i.a)(f.a.mark(function t(e,r){var n,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=[],this.configuration.nodesIsEmpty())return t.next=5,this.retrieveNodes();t.next=9;break;case 5:if((i=t.sent)instanceof Error==1)throw i;t.next=8;break;case 8:this.configuration.nodes=i;case 9:return t.abrupt("return",(this.configuration.nodes.forEach(function(t){t.isEqual(e,r)&&n.push(t)}),n.length<=0?null:n[Math.floor(Math.random()*n.length)]));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",null);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(t,e){return er.apply(this,arguments)})},{key:"sendReport",value:(tr=Object(i.a)(f.a.mark(function t(e,r){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e)throw new Error("Report is null");t.next=3;break;case 3:if(e.isValid()){t.next=5;break}throw new Error("One or more Report properties are empty.");case 5:return t.next=7,e.send();case 7:return n=t.sent,t.abrupt("return",n instanceof Error==0?r?void r(null,n):n:r?void r(n):n);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",r?void r(t.t0):t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])})),function(t,e){return tr.apply(this,arguments)})},{key:"sendRelay",value:(Qe=Object(i.a)(f.a.mark(function t(e,r){var n,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e||null==e.data)return t.abrupt("return",r?void r(new Error("Relay is null or data field is missing")):new Error("Relay is null or data field is missing"));t.next=3;break;case 3:if(e.isValid()){t.next=5;break}return t.abrupt("return",r?void r(new Error("Relay is missing a property, please verify all properties.")):new Error("Relay is missing a property, please verify all properties."));case 5:return t.next=7,this.getNode(e.netID,e.blockchain);case 7:if(null==(n=t.sent))return t.abrupt("return",r?void r(new Error("Node is empty.")):new Error("Node is empty."));t.next=10;break;case 10:return t.next=12,n.sendRelay(e);case 12:return i=t.sent,t.abrupt("return",i instanceof Error==0?r?void r(null,i):i:r?void r(i):i);case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",r?void r(new Error("Failed to send relay with error: "+t.t0)):new Error("Failed to send relay with error: "+t.t0));case 19:case"end":return t.stop()}},t,this,[[0,16]])})),function(t,e){return Qe.apply(this,arguments)})},{key:"retrieveNodes",value:($e=Object(i.a)(f.a.mark(function t(e){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.getDispatch(),t.next=4,r.retrieveServiceNodes();case 4:return r=t.sent,t.abrupt("return",r instanceof Error==0&&0!=r.length?(this.configuration.nodes=r,e?void e(null,r):r):e?void e(new Error("Failed to retrieve a list of nodes."),null):new Error("Failed to retrieve a list of nodes."));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",e?void e(new Error("Failed to retrieve a list of nodes with error: "+t.t0),null):new Error("Failed to retrieve a list of nodes with error: "+t.t0));case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(t){return $e.apply(this,arguments)})}]),Er),Wallet:l.Wallet,Relay:l.Relay},br=window&&window.__awaiter||function(o,a,s,u){return new(s=s||Promise)(function(t,e){function r(t){try{i(u.next(t))}catch(t){e(t)}}function n(t){try{i(u.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(r,n)}i((u=u.apply(o,a||[])).next())})},_r=window&&window.__generator||function(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},Mr=["email","reputation"],kr=document.createElement("iframe");function Er(e){Object(a.a)(this,Er);var t,r=[];if(null==e.devID||null==e.networkName||null==e.netIDs)return new Error("Invalid number of arguments");Array.isArray(e.netIDs)?e.netIDs.forEach(function(t){t=new pr(e.networkName,t);r.push(t.toJSON())}):(t=new pr(e.networkName,e.netIDs),r.push(t.toJSON())),this.configuration=new yr(e.devID,r,e.maxNodes||5,e.requestTimeOut||1e4)}function xr(t,e,r,n){Object(a.a)(this,xr),this.devID=t,this.blockchains=e,this.maxNodes=r||5,this.nodes=[],this.requestTimeOut=n||1e4,this.dispatch=null}function Ar(t,e,r){Object(a.a)(this,Ar),this.ip=t,this.message=e,this.configuration=r}function Tr(t,e,r,n){Object(a.a)(this,Tr),this.blockchain=t,this.netID=e,this.data=r,this.configuration=n}function Sr(t){Object(a.a)(this,Sr),this.configuration=t,this.axiosInstance=or.create({baseURL:ar,path:sr,timeout:this.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}})}function Pr(t,e,r){Object(a.a)(this,Pr),this.network=t,this.netID=e;e=r.split(":");this.ip=e[0],this.port=e[1],r.includes("https://")||r.includes("http://")?this.ipPort=r:"443"===this.port||443===this.port?this.ipPort="https://"+r:this.ipPort="http://"+r}kr.style.width="0",kr.style.height="0",kr.style.border="none",kr.style.position="absolute",kr.style.top="-999px",kr.style.left="-999px",kr.src="https://widget.portis.io",ge().then(function(){document.body.appendChild(kr)});Or.prototype.changeNetwork=function(t,e){e=ne(t,e);this.clearSubprovider($t),this.clearSubprovider(D),this.config.network=e},Or.prototype.setDefaultEmail=function(t){this.config.defaultEmail=t},Or.prototype.showPortis=function(){return br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.showPortis(this.config)]}})})},Or.prototype.logout=function(){return br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.logout()]}})})},Or.prototype.onLogin=function(t){this._onLoginCallback=t},Or.prototype.onLogout=function(t){this._onLogoutCallback=t},Or.prototype.onActiveWalletChanged=function(t){this._onActiveWalletChangedCallback=t},Or.prototype.onError=function(t){this._onErrorCallback=t},Or.prototype.getExtendedPublicKey=function(e,r){return void 0===e&&(e="m/44'/60'/0'/0/0"),void 0===r&&(r="Ethereum"),br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.getExtendedPublicKey(e,r,this.config)]}})})},Or.prototype.importWallet=function(e){return br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.importWallet(e,this.config)]}})})},Or.prototype.isLoggedIn=function(){return br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.isLoggedIn()]}})})},Or.prototype.signBitcoinTransaction=function(e){return br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.signBitcoinTransaction(e,this.config)]}})})},Or.prototype.showBitcoinWallet=function(e){return void 0===e&&(e="m/49'/0'/0'/0/0"),br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.showBitcoinWallet(e,this.config)]}})})},Or.prototype._valiadateParams=function(t,e,r){if(!t)throw new Error("[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io");if(!e)throw new Error("[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(r.scope){if(!Array.isArray(r.scope))throw new Error("[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope");if(r.scope.filter(function(t){return Mr.indexOf(t)<0}).length>0)throw new Error("[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope")}if(void 0!==r.registerPageByDefault&&"boolean"!=typeof r.registerPageByDefault)throw new Error("[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault")},Or.prototype._initWidget=function(){return br(this,void 0,void 0,function(){var e,r,n;return _r(this,function(t){switch(t.label){case 0:return[4,ge()];case 1:return t.sent(),document.body.contains(kr)&&document.body.removeChild(kr),(n=document.createElement("style")).innerHTML="\n.por_portis-container {\n  position: fixed;\n  width: 0px;\n  height: 0px;\n  top: 0px;\n  right: 0px;\n  z-index: 2147483647;\n}\n\n@media (max-width: 576px) {\n  .por_portis-container {\n    bottom: 0;\n    top: auto;\n  }\n}\n\n.por_portis-widget-frame {\n  position: fixed;\n  width: 375px;\n  height: 0;\n  top: 20px;\n  right: 20px;\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\n  border-radius: 8px;\n  overflow: hidden;\n  z-index: 2147483000;\n}\n\n@media (max-width: 576px) {\n  .por_portis-widget-frame {\n    bottom: 0;\n    top: auto;\n    width: 100%;\n    right: 0;\n    left: 0;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n}\n",(r=document.createElement("div")).className="por_portis-container",(e=document.createElement("div")).id="portis-container-"+Date.now(),e.className="por_portis-widget-frame",r.appendChild(e),document.body.appendChild(r),document.head.appendChild(n),(r=re.connectToChild({url:this._widgetUrl,appendTo:document.getElementById(e.id),methods:{setHeight:this._setHeight.bind(this),getWindowSize:this._getWindowSize.bind(this),onLogin:this._onLogin.bind(this),onLogout:this._onLogout.bind(this),onActiveWalletChanged:this._onActiveWalletChanged.bind(this),onError:this._onError.bind(this)}})).iframe.style.position="absolute",r.iframe.style.height="100%",r.iframe.style.width="100%",r.iframe.style.border="0 transparent",[4,r.promise];case 2:return(n=t.sent()).retrieveSession(this.config),[2,{communication:n,iframe:r.iframe,widgetFrame:e}]}})})},Or.prototype._initProvider=function(t){var a,s=this,u=new E,i=new de(u);return u.send=function(t,e){if("string"==typeof t)return new Promise(function(r,n){u.sendAsync({jsonrpc:"2.0",id:42,method:t,params:e||[]},function(t,e){t?n(t):r(e.result)})});if(!e){var r=null;switch(t.method){case"eth_accounts":case"eth_coinbase":r=s._selectedAddress?[s._selectedAddress]:[];break;case"net_version":r=s._network;break;case"eth_uninstallFilter":u.sendAsync(t,function(t){return t}),r=!0;break;default:var n="The Portis Web3 object does not support synchronous methods like "+t.method+" without a callback parameter.";throw new Error(n)}return{id:t.id,jsonrpc:t.jsonrpc,result:r}}u.sendAsync(t,e)},u.addProvider(new F({web3_clientVersion:"Portis/v"+this.config.version+"/javascript",net_listening:!0,eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0})),u.addProvider(new D),u.addProvider(new ee),u.addProvider(new z),u.addProvider(new $t),u.addProvider({setEngine:function(t){return t},handleRequest:function(e,r,t){return br(s,void 0,void 0,function(){return _r(this,function(t){return e.id||(e.id=42),r(),[2]})})}}),u.addProvider(new V({getAccounts:function(n){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[4,t.sent().communication.getAccounts(this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,!e&&r&&(this._selectedAddress=r[0]),n(e,r),[2]}})})},signTransaction:function(n,i){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[4,t.sent().communication.signTransaction(n,this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,i(e,r),[2]}})})},signMessage:function(n,i){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return r=t.sent().communication,e=Object.assign({},n,{messageStandard:"signMessage"}),[4,r.signMessage(e,this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,i(e,r),[2]}})})},signPersonalMessage:function(n,i){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return r=t.sent().communication,e=Object.assign({},n,{messageStandard:"signPersonalMessage"}),[4,r.signMessage(e,this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,i(e,r),[2]}})})},signTypedMessage:function(n,i){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return r=t.sent().communication,e=Object.assign({},n,{messageStandard:"signTypedMessage"}),[4,r.signMessage(e,this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,i(e,r),[2]}})})},signTypedMessageV3:function(n,i){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return r=t.sent().communication,e=Object.assign({},n,{messageStandard:"signTypedMessageV3"}),[4,r.signMessage(e,this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,i(e,r),[2]}})})},estimateGas:function(r,n){return br(s,void 0,void 0,function(){var e;return _r(this,function(t){switch(t.label){case 0:return[4,he(i,r)];case 1:return e=t.sent(),n(null,e),[2]}})})},getGasPrice:function(e){return br(s,void 0,void 0,function(){return _r(this,function(t){return e(null,""),[2]})})}})),t.pocketDevId?(a=new wr.Pocket({devID:t.pocketDevId,networkName:"ETH",netIDs:[this.config.network.chainId]}),u.addProvider({setEngine:function(t){return t},handleRequest:function(i,t,o){return br(s,void 0,void 0,function(){var e,r,n;return _r(this,function(t){switch(t.label){case 0:return[4,a.sendRelay(new wr.Relay("ETH",this.config.network.chainId,JSON.stringify(i),a.configuration))];case 1:if((e=t.sent())instanceof Error||!e)n=e||new Error("Unknown error"),r=null;else try{r=JSON.parse(e).result,n=null}catch(t){r=null,n=t}return"net_version"===i.method&&(this._network=r,u.networkVersion=this._network),o(n,r),[2]}})})}})):u.addProvider({setEngine:function(t){return t},handleRequest:function(n,t,i){return br(s,void 0,void 0,function(){var e,r;return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[4,t.sent().communication.relay(n,this.config)];case 2:return r=t.sent(),e=r.error,r=r.result,"net_version"===n.method&&(this._network=r,u.networkVersion=this._network),i(e,r),[2]}})})}}),u.enable=function(){return new Promise(function(r,n){u.sendAsync({method:"eth_accounts"},function(t,e){t?n(t):r(e.result)})})},u.isConnected=function(){return!0},u.isPortis=!0,u.on("error",function(t){t&&t.message&&t.message.includes("PollingBlockTracker")}),u.start(),u},Or.prototype._setHeight=function(e){return br(this,void 0,void 0,function(){return _r(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return t.sent().widgetFrame.style.height=e+"px",[2]}})})},Or.prototype._getWindowSize=function(){var t=document.getElementsByTagName("body")[0];return{width:window.innerWidth||document.documentElement.clientWidth||t.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||t.clientHeight}},Or.prototype._onLogin=function(t,e,r){this._onLoginCallback&&this._onLoginCallback(t,e,r)},Or.prototype._onLogout=function(){this._selectedAddress="",this._onLogoutCallback&&this._onLogoutCallback()},Or.prototype._onActiveWalletChanged=function(t){this._onActiveWalletChangedCallback&&this._onActiveWalletChangedCallback(t)},Or.prototype._onError=function(t){this._onErrorCallback&&this._onErrorCallback(t)},Or.prototype.clearSubprovider=function(e){var t=this.provider._providers.find(function(t){return t instanceof e});this.provider.removeProvider(t),this.provider.addProvider(new e)},l=Or;function Or(t,e,r){void 0===r&&(r={}),this._widgetUrl="https://widget.portis.io",function(){var t="localhost"===location.hostname||"127.0.0.1"===location.hostname,e="https:"===location.protocol;if(!t&&!e)throw"[Portis] Access to the WebCrypto API is restricted to secure origins.\nIf this is a development environment please use http://localhost:"+location.port+" instead.\nOtherwise, please use an SSL certificate."}(),this._valiadateParams(t,e,r),this.config={dappId:t,network:ne(e,r.gasRelay),version:"2.0.0-beta.54",scope:r.scope,registerPageByDefault:r.registerPageByDefault},this.widget=this._initWidget(),this.provider=this._initProvider(r)}Br.default=l}.call(this,Rr(65).Buffer,Rr(52))},904:function(t,e,A){!function(x){!function(t){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function e(t,e){t.super_=e;function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function g(t,e,r){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var r;"object"===typeof x?x.exports=g:t.BN=g,(g.BN=g).wordSize=26;try{r=("undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window:A(981)).Buffer}catch(t){}function i(t,e){e=t.charCodeAt(e);return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void m(!1,"Invalid character in "+t)}function s(t,e,r){var n=i(t,r);return r-1>=e&&(n|=i(t,r-1)<<4),n}function l(t,e,r,n){for(var i,o=0,a=Math.min(t.length,r),s=e;s<a;s++){var u=t.charCodeAt(s)-48;o*=n,i=u>=49?u-49+10:u>=17?u-17+10:u,m(u>=0&&i<n,"Invalid character"),o+=i}return o}function n(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(g.isBN=function(t){return t instanceof g||null!==t&&"object"===typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return t.cmp(e)>0?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);m((e="hex"===e?16:e)===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},g.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},g.prototype._initArray=function(t,e,r){if(m("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o,a=0;if("be"===r)for(n=t.length-1,i=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(i=n=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},g.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=s(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=s(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},g.prototype._parseBase=function(t,e,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=e)n++;n--;for(var i=i/e|0,o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,c=r;c<s;c+=n)u=l(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){for(var h=1,u=l(t,c,t.length,e),c=0;c<a;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype._move=function(t){n(t,this)},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{g.prototype[Symbol.for("nodejs.util.inspect.custom")]=o}catch(t){g.prototype.inspect=o}else g.prototype.inspect=o;function o(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function a(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0,n=(r.length=n)-1|0,i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;h+=(a=(0|t.words[p])*(0|e.words[d])+l)/67108864|0,l=67108863&a}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var r=0,n=0,i=0;i<this.length;i++){var o=this.words[i],a=(16777215&(o<<r|n)).toString(16),s=0!==(n=o>>>24-r&16777215)||i!==this.length-1?f[6-a.length]+a+s:a+s;(r+=2)>=26&&(r-=26,i--)}for(0!==n&&(s=n.toString(16)+s);s.length%e!==0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],c=p[t];s="";var h=this.clone();for(h.negative=0;!h.isZero();){var l=h.modrn(c).toString(t);s=(h=h.idivn(c)).isZero()?l+s:f[u-l.length]+l+s}for(this.isZero()&&(s="0"+s);s.length%e!==0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16,2)},r&&(g.prototype.toBuffer=function(t,e){return this.toArrayLike(r,t,e)}),g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,r){this._strip();var n=this.byteLength(),r=r||Math.max(1,n);m(n<=r,"byte array longer than desired length"),m(r>0,"Requested array length <= 0");r=r,r=(t=t).allocUnsafe?t.allocUnsafe(r):new t(r);return this["_toArrayLike"+("le"===e?"LE":"BE")](r,n),r},g.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),o=n=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},g.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),o=n=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=t,t=0;return e>=4096&&(t+=13,e>>>=13),e>=64&&(t+=7,e>>>=7),e>=8&&(t+=4,e>>>=4),e>=2&&(t+=2,e>>>=2),t+e},g.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,t=0;return 0===(8191&e)&&(t+=13,e>>>=13),0===(127&e)&&(t+=7,e>>>=7),0===(15&e)&&(t+=4,e>>>=4),0===(3&e)&&(t+=2,e>>>=2),0===(1&e)&&t++,t},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},g.prototype.ior=function(t){return m(0===(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},g.prototype.iand=function(t){return m(0===(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,r=this.length>t.length?(e=this,t):(e=t,this),n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},g.prototype.ixor=function(t){return m(0===(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),t>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return t>0&&(this.words[r]=~this.words[r]&67108863>>26-t),this._strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"===typeof t&&t>=0);var r=t/26|0,t=t%26;return this._expand(1+r),this.words[r]=e?this.words[r]|1<<t:this.words[r]&~(1<<t),this._strip()},g.prototype.iadd=function(t){var e,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var n=this.length>t.length?(r=this,t):(r=t,this),i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var i=n>0?(r=this,t):(r=t,this),o=0,a=0;a<i.length;a++)o=(e=(0|r.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var u=function(t,e,r){var n=t.words,i=e.words,o=r.words,a=0|n[0],s=8191&a,u=a>>>13,c=0|n[1],h=8191&c,l=c>>>13,f=0|n[2],d=8191&f,p=f>>>13,m=0|n[3],g=8191&m,v=m>>>13,y=0|n[4],w=8191&y,b=y>>>13,_=0|n[5],M=8191&_,k=_>>>13,E=0|n[6],x=8191&E,A=E>>>13,T=0|n[7],S=8191&T,P=T>>>13,O=0|n[8],B=8191&O,R=O>>>13,C=0|n[9],N=8191&C,I=C>>>13,L=0|i[0],j=8191&L,D=L>>>13,q=0|i[1],F=8191&q,U=q>>>13,G=0|i[2],z=8191&G,K=G>>>13,H=0|i[3],V=8191&H,Z=H>>>13,W=0|i[4],J=8191&W,X=W>>>13,Y=0|i[5],$=8191&Y,Q=Y>>>13,a=0|i[6],c=8191&a,f=a>>>13,m=0|i[7],y=8191&m,_=m>>>13,E=0|i[8],T=8191&E,O=E>>>13,n=0|i[9],C=8191&n,L=n>>>13;r.negative=t.negative^e.negative,r.length=19;var H=(0+Math.imul(s,j)|0)+((8191&(G=Math.imul(s,D)+Math.imul(u,j)|0))<<13)|0,tt=(Math.imul(u,D)+(G>>>13)|0)+(H>>>26)|0;H&=67108863;q=Math.imul(h,j),G=Math.imul(h,D)+Math.imul(l,j)|0,W=Math.imul(l,D),Y=(tt+(q+Math.imul(s,F)|0)|0)+((8191&(G=(G+Math.imul(s,U)|0)+Math.imul(u,F)|0))<<13)|0;tt=((W+Math.imul(u,U)|0)+(G>>>13)|0)+(Y>>>26)|0,Y&=67108863,q=Math.imul(d,j),G=Math.imul(d,D)+Math.imul(p,j)|0,W=Math.imul(p,D),q=q+Math.imul(h,F)|0,G=(G+Math.imul(h,U)|0)+Math.imul(l,F)|0,W=W+Math.imul(l,U)|0;a=(tt+(q+Math.imul(s,z)|0)|0)+((8191&(G=(G+Math.imul(s,K)|0)+Math.imul(u,z)|0))<<13)|0;tt=((W+Math.imul(u,K)|0)+(G>>>13)|0)+(a>>>26)|0,a&=67108863,q=Math.imul(g,j),G=Math.imul(g,D)+Math.imul(v,j)|0,W=Math.imul(v,D),q=q+Math.imul(d,F)|0,G=(G+Math.imul(d,U)|0)+Math.imul(p,F)|0,W=W+Math.imul(p,U)|0,q=q+Math.imul(h,z)|0,G=(G+Math.imul(h,K)|0)+Math.imul(l,z)|0,W=W+Math.imul(l,K)|0;m=(tt+(q+Math.imul(s,V)|0)|0)+((8191&(G=(G+Math.imul(s,Z)|0)+Math.imul(u,V)|0))<<13)|0;tt=((W+Math.imul(u,Z)|0)+(G>>>13)|0)+(m>>>26)|0,m&=67108863,q=Math.imul(w,j),G=Math.imul(w,D)+Math.imul(b,j)|0,W=Math.imul(b,D),q=q+Math.imul(g,F)|0,G=(G+Math.imul(g,U)|0)+Math.imul(v,F)|0,W=W+Math.imul(v,U)|0,q=q+Math.imul(d,z)|0,G=(G+Math.imul(d,K)|0)+Math.imul(p,z)|0,W=W+Math.imul(p,K)|0,q=q+Math.imul(h,V)|0,G=(G+Math.imul(h,Z)|0)+Math.imul(l,V)|0,W=W+Math.imul(l,Z)|0;E=(tt+(q+Math.imul(s,J)|0)|0)+((8191&(G=(G+Math.imul(s,X)|0)+Math.imul(u,J)|0))<<13)|0;tt=((W+Math.imul(u,X)|0)+(G>>>13)|0)+(E>>>26)|0,E&=67108863,q=Math.imul(M,j),G=Math.imul(M,D)+Math.imul(k,j)|0,W=Math.imul(k,D),q=q+Math.imul(w,F)|0,G=(G+Math.imul(w,U)|0)+Math.imul(b,F)|0,W=W+Math.imul(b,U)|0,q=q+Math.imul(g,z)|0,G=(G+Math.imul(g,K)|0)+Math.imul(v,z)|0,W=W+Math.imul(v,K)|0,q=q+Math.imul(d,V)|0,G=(G+Math.imul(d,Z)|0)+Math.imul(p,V)|0,W=W+Math.imul(p,Z)|0,q=q+Math.imul(h,J)|0,G=(G+Math.imul(h,X)|0)+Math.imul(l,J)|0,W=W+Math.imul(l,X)|0;i=(tt+(q+Math.imul(s,$)|0)|0)+((8191&(G=(G+Math.imul(s,Q)|0)+Math.imul(u,$)|0))<<13)|0;tt=((W+Math.imul(u,Q)|0)+(G>>>13)|0)+(i>>>26)|0,i&=67108863,q=Math.imul(x,j),G=Math.imul(x,D)+Math.imul(A,j)|0,W=Math.imul(A,D),q=q+Math.imul(M,F)|0,G=(G+Math.imul(M,U)|0)+Math.imul(k,F)|0,W=W+Math.imul(k,U)|0,q=q+Math.imul(w,z)|0,G=(G+Math.imul(w,K)|0)+Math.imul(b,z)|0,W=W+Math.imul(b,K)|0,q=q+Math.imul(g,V)|0,G=(G+Math.imul(g,Z)|0)+Math.imul(v,V)|0,W=W+Math.imul(v,Z)|0,q=q+Math.imul(d,J)|0,G=(G+Math.imul(d,X)|0)+Math.imul(p,J)|0,W=W+Math.imul(p,X)|0,q=q+Math.imul(h,$)|0,G=(G+Math.imul(h,Q)|0)+Math.imul(l,$)|0,W=W+Math.imul(l,Q)|0;n=(tt+(q+Math.imul(s,c)|0)|0)+((8191&(G=(G+Math.imul(s,f)|0)+Math.imul(u,c)|0))<<13)|0;tt=((W+Math.imul(u,f)|0)+(G>>>13)|0)+(n>>>26)|0,n&=67108863,q=Math.imul(S,j),G=Math.imul(S,D)+Math.imul(P,j)|0,W=Math.imul(P,D),q=q+Math.imul(x,F)|0,G=(G+Math.imul(x,U)|0)+Math.imul(A,F)|0,W=W+Math.imul(A,U)|0,q=q+Math.imul(M,z)|0,G=(G+Math.imul(M,K)|0)+Math.imul(k,z)|0,W=W+Math.imul(k,K)|0,q=q+Math.imul(w,V)|0,G=(G+Math.imul(w,Z)|0)+Math.imul(b,V)|0,W=W+Math.imul(b,Z)|0,q=q+Math.imul(g,J)|0,G=(G+Math.imul(g,X)|0)+Math.imul(v,J)|0,W=W+Math.imul(v,X)|0,q=q+Math.imul(d,$)|0,G=(G+Math.imul(d,Q)|0)+Math.imul(p,$)|0,W=W+Math.imul(p,Q)|0,q=q+Math.imul(h,c)|0,G=(G+Math.imul(h,f)|0)+Math.imul(l,c)|0,W=W+Math.imul(l,f)|0;t=(tt+(q+Math.imul(s,y)|0)|0)+((8191&(G=(G+Math.imul(s,_)|0)+Math.imul(u,y)|0))<<13)|0;tt=((W+Math.imul(u,_)|0)+(G>>>13)|0)+(t>>>26)|0,t&=67108863,q=Math.imul(B,j),G=Math.imul(B,D)+Math.imul(R,j)|0,W=Math.imul(R,D),q=q+Math.imul(S,F)|0,G=(G+Math.imul(S,U)|0)+Math.imul(P,F)|0,W=W+Math.imul(P,U)|0,q=q+Math.imul(x,z)|0,G=(G+Math.imul(x,K)|0)+Math.imul(A,z)|0,W=W+Math.imul(A,K)|0,q=q+Math.imul(M,V)|0,G=(G+Math.imul(M,Z)|0)+Math.imul(k,V)|0,W=W+Math.imul(k,Z)|0,q=q+Math.imul(w,J)|0,G=(G+Math.imul(w,X)|0)+Math.imul(b,J)|0,W=W+Math.imul(b,X)|0,q=q+Math.imul(g,$)|0,G=(G+Math.imul(g,Q)|0)+Math.imul(v,$)|0,W=W+Math.imul(v,Q)|0,q=q+Math.imul(d,c)|0,G=(G+Math.imul(d,f)|0)+Math.imul(p,c)|0,W=W+Math.imul(p,f)|0,q=q+Math.imul(h,y)|0,G=(G+Math.imul(h,_)|0)+Math.imul(l,y)|0,W=W+Math.imul(l,_)|0;e=(tt+(q+Math.imul(s,T)|0)|0)+((8191&(G=(G+Math.imul(s,O)|0)+Math.imul(u,T)|0))<<13)|0;tt=((W+Math.imul(u,O)|0)+(G>>>13)|0)+(e>>>26)|0,e&=67108863,q=Math.imul(N,j),G=Math.imul(N,D)+Math.imul(I,j)|0,W=Math.imul(I,D),q=q+Math.imul(B,F)|0,G=(G+Math.imul(B,U)|0)+Math.imul(R,F)|0,W=W+Math.imul(R,U)|0,q=q+Math.imul(S,z)|0,G=(G+Math.imul(S,K)|0)+Math.imul(P,z)|0,W=W+Math.imul(P,K)|0,q=q+Math.imul(x,V)|0,G=(G+Math.imul(x,Z)|0)+Math.imul(A,V)|0,W=W+Math.imul(A,Z)|0,q=q+Math.imul(M,J)|0,G=(G+Math.imul(M,X)|0)+Math.imul(k,J)|0,W=W+Math.imul(k,X)|0,q=q+Math.imul(w,$)|0,G=(G+Math.imul(w,Q)|0)+Math.imul(b,$)|0,W=W+Math.imul(b,Q)|0,q=q+Math.imul(g,c)|0,G=(G+Math.imul(g,f)|0)+Math.imul(v,c)|0,W=W+Math.imul(v,f)|0,q=q+Math.imul(d,y)|0,G=(G+Math.imul(d,_)|0)+Math.imul(p,y)|0,W=W+Math.imul(p,_)|0,q=q+Math.imul(h,T)|0,G=(G+Math.imul(h,O)|0)+Math.imul(l,T)|0,W=W+Math.imul(l,O)|0;s=(tt+(q+Math.imul(s,C)|0)|0)+((8191&(G=(G+Math.imul(s,L)|0)+Math.imul(u,C)|0))<<13)|0;tt=((W+Math.imul(u,L)|0)+(G>>>13)|0)+(s>>>26)|0,s&=67108863,q=Math.imul(N,F),G=Math.imul(N,U)+Math.imul(I,F)|0,W=Math.imul(I,U),q=q+Math.imul(B,z)|0,G=(G+Math.imul(B,K)|0)+Math.imul(R,z)|0,W=W+Math.imul(R,K)|0,q=q+Math.imul(S,V)|0,G=(G+Math.imul(S,Z)|0)+Math.imul(P,V)|0,W=W+Math.imul(P,Z)|0,q=q+Math.imul(x,J)|0,G=(G+Math.imul(x,X)|0)+Math.imul(A,J)|0,W=W+Math.imul(A,X)|0,q=q+Math.imul(M,$)|0,G=(G+Math.imul(M,Q)|0)+Math.imul(k,$)|0,W=W+Math.imul(k,Q)|0,q=q+Math.imul(w,c)|0,G=(G+Math.imul(w,f)|0)+Math.imul(b,c)|0,W=W+Math.imul(b,f)|0,q=q+Math.imul(g,y)|0,G=(G+Math.imul(g,_)|0)+Math.imul(v,y)|0,W=W+Math.imul(v,_)|0,q=q+Math.imul(d,T)|0,G=(G+Math.imul(d,O)|0)+Math.imul(p,T)|0,W=W+Math.imul(p,O)|0;h=(tt+(q+Math.imul(h,C)|0)|0)+((8191&(G=(G+Math.imul(h,L)|0)+Math.imul(l,C)|0))<<13)|0;tt=((W+Math.imul(l,L)|0)+(G>>>13)|0)+(h>>>26)|0,h&=67108863,q=Math.imul(N,z),G=Math.imul(N,K)+Math.imul(I,z)|0,W=Math.imul(I,K),q=q+Math.imul(B,V)|0,G=(G+Math.imul(B,Z)|0)+Math.imul(R,V)|0,W=W+Math.imul(R,Z)|0,q=q+Math.imul(S,J)|0,G=(G+Math.imul(S,X)|0)+Math.imul(P,J)|0,W=W+Math.imul(P,X)|0,q=q+Math.imul(x,$)|0,G=(G+Math.imul(x,Q)|0)+Math.imul(A,$)|0,W=W+Math.imul(A,Q)|0,q=q+Math.imul(M,c)|0,G=(G+Math.imul(M,f)|0)+Math.imul(k,c)|0,W=W+Math.imul(k,f)|0,q=q+Math.imul(w,y)|0,G=(G+Math.imul(w,_)|0)+Math.imul(b,y)|0,W=W+Math.imul(b,_)|0,q=q+Math.imul(g,T)|0,G=(G+Math.imul(g,O)|0)+Math.imul(v,T)|0,W=W+Math.imul(v,O)|0;d=(tt+(q+Math.imul(d,C)|0)|0)+((8191&(G=(G+Math.imul(d,L)|0)+Math.imul(p,C)|0))<<13)|0;tt=((W+Math.imul(p,L)|0)+(G>>>13)|0)+(d>>>26)|0,d&=67108863,q=Math.imul(N,V),G=Math.imul(N,Z)+Math.imul(I,V)|0,W=Math.imul(I,Z),q=q+Math.imul(B,J)|0,G=(G+Math.imul(B,X)|0)+Math.imul(R,J)|0,W=W+Math.imul(R,X)|0,q=q+Math.imul(S,$)|0,G=(G+Math.imul(S,Q)|0)+Math.imul(P,$)|0,W=W+Math.imul(P,Q)|0,q=q+Math.imul(x,c)|0,G=(G+Math.imul(x,f)|0)+Math.imul(A,c)|0,W=W+Math.imul(A,f)|0,q=q+Math.imul(M,y)|0,G=(G+Math.imul(M,_)|0)+Math.imul(k,y)|0,W=W+Math.imul(k,_)|0,q=q+Math.imul(w,T)|0,G=(G+Math.imul(w,O)|0)+Math.imul(b,T)|0,W=W+Math.imul(b,O)|0;g=(tt+(q+Math.imul(g,C)|0)|0)+((8191&(G=(G+Math.imul(g,L)|0)+Math.imul(v,C)|0))<<13)|0;tt=((W+Math.imul(v,L)|0)+(G>>>13)|0)+(g>>>26)|0,g&=67108863,q=Math.imul(N,J),G=Math.imul(N,X)+Math.imul(I,J)|0,W=Math.imul(I,X),q=q+Math.imul(B,$)|0,G=(G+Math.imul(B,Q)|0)+Math.imul(R,$)|0,W=W+Math.imul(R,Q)|0,q=q+Math.imul(S,c)|0,G=(G+Math.imul(S,f)|0)+Math.imul(P,c)|0,W=W+Math.imul(P,f)|0,q=q+Math.imul(x,y)|0,G=(G+Math.imul(x,_)|0)+Math.imul(A,y)|0,W=W+Math.imul(A,_)|0,q=q+Math.imul(M,T)|0,G=(G+Math.imul(M,O)|0)+Math.imul(k,T)|0,W=W+Math.imul(k,O)|0;w=(tt+(q+Math.imul(w,C)|0)|0)+((8191&(G=(G+Math.imul(w,L)|0)+Math.imul(b,C)|0))<<13)|0;tt=((W+Math.imul(b,L)|0)+(G>>>13)|0)+(w>>>26)|0,w&=67108863,q=Math.imul(N,$),G=Math.imul(N,Q)+Math.imul(I,$)|0,W=Math.imul(I,Q),q=q+Math.imul(B,c)|0,G=(G+Math.imul(B,f)|0)+Math.imul(R,c)|0,W=W+Math.imul(R,f)|0,q=q+Math.imul(S,y)|0,G=(G+Math.imul(S,_)|0)+Math.imul(P,y)|0,W=W+Math.imul(P,_)|0,q=q+Math.imul(x,T)|0,G=(G+Math.imul(x,O)|0)+Math.imul(A,T)|0,W=W+Math.imul(A,O)|0;M=(tt+(q+Math.imul(M,C)|0)|0)+((8191&(G=(G+Math.imul(M,L)|0)+Math.imul(k,C)|0))<<13)|0;tt=((W+Math.imul(k,L)|0)+(G>>>13)|0)+(M>>>26)|0,M&=67108863,q=Math.imul(N,c),G=Math.imul(N,f)+Math.imul(I,c)|0,W=Math.imul(I,f),q=q+Math.imul(B,y)|0,G=(G+Math.imul(B,_)|0)+Math.imul(R,y)|0,W=W+Math.imul(R,_)|0,q=q+Math.imul(S,T)|0,G=(G+Math.imul(S,O)|0)+Math.imul(P,T)|0,W=W+Math.imul(P,O)|0;x=(tt+(q+Math.imul(x,C)|0)|0)+((8191&(G=(G+Math.imul(x,L)|0)+Math.imul(A,C)|0))<<13)|0;tt=((W+Math.imul(A,L)|0)+(G>>>13)|0)+(x>>>26)|0,x&=67108863,q=Math.imul(N,y),G=Math.imul(N,_)+Math.imul(I,y)|0,W=Math.imul(I,_),q=q+Math.imul(B,T)|0,G=(G+Math.imul(B,O)|0)+Math.imul(R,T)|0,W=W+Math.imul(R,O)|0;S=(tt+(q+Math.imul(S,C)|0)|0)+((8191&(G=(G+Math.imul(S,L)|0)+Math.imul(P,C)|0))<<13)|0;tt=((W+Math.imul(P,L)|0)+(G>>>13)|0)+(S>>>26)|0,S&=67108863,q=Math.imul(N,T),G=Math.imul(N,O)+Math.imul(I,T)|0,W=Math.imul(I,O);B=(tt+(q+Math.imul(B,C)|0)|0)+((8191&(G=(G+Math.imul(B,L)|0)+Math.imul(R,C)|0))<<13)|0;tt=((W+Math.imul(R,L)|0)+(G>>>13)|0)+(B>>>26)|0,B&=67108863;C=(tt+Math.imul(N,C)|0)+((8191&(G=Math.imul(N,L)+Math.imul(I,C)|0))<<13)|0;return tt=(Math.imul(I,L)+(G>>>13)|0)+(C>>>26)|0,C&=67108863,o[0]=H,o[1]=Y,o[2]=a,o[3]=m,o[4]=E,o[5]=i,o[6]=n,o[7]=t,o[8]=e,o[9]=s,o[10]=h,o[11]=d,o[12]=g,o[13]=w,o[14]=M,o[15]=x,o[16]=S,o[17]=B,o[18]=C,0!==tt&&(o[19]=tt,r.length++),r};function c(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){for(var a=i,i=0,s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,l=(0|t.words[h])*(0|e.words[c]),h=67108863&l,s=67108863&(h=h+s|0);i+=(a=(a=a+(l/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function h(t,e,r){return c(t,e,r)}Math.imul||(u=a),g.prototype.mulTo=function(t,e){var r=this.length+t.length;return(10===this.length&&10===t.length?u:r<63?a:r<1024?c:h)(this,t,e)},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),h(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){var e=t<0;m("number"===typeof(t=e?-t:t)),m(t<67108864);for(var r=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=o>>>26,this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),e?this.ineg():this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new g(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},g.prototype.iushln=function(t){m("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=67108863>>>26-e<<26-e;if(0!==e){for(var i=0,o=0;o<this.length;o++){var a=this.words[o]&n,s=(0|this.words[o])-a<<e;this.words[o]=s|i,i=a>>>26-e}i&&(this.words[o]=i,this.length++)}if(0!==r){for(o=this.length-1;o>=0;o--)this.words[o+r]=this.words[o];for(o=0;o<r;o++)this.words[o]=0;this.length+=r}return this._strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,r){m("number"===typeof t&&t>=0);var n=e?(e-e%26)/26:0,i=t%26,o=Math.min((t-i)/26,this.length),a=67108863^67108863>>>i<<i,s=r;if(n-=o,n=Math.max(0,n),s){for(var u=0;u<o;u++)s.words[u]=this.words[u];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;u>=0&&(0!==c||u>=n);u--){var h=0|this.words[u];this.words[u]=c<<26-i|h>>>i,c=h&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},g.prototype.ishrn=function(t,e,r){return m(0===this.negative),this.iushrn(t,e,r)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"===typeof t&&t>=0);var e=t%26,t=(t-e)/26,e=1<<e;return!(this.length<=t)&&!!(this.words[t]&e)},g.prototype.imaskn=function(t){m("number"===typeof t&&t>=0);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!==e&&t++,this.length=Math.min(t,this.length),0!==e&&(e=67108863^67108863>>>e<<e,this.words[this.length-1]&=e),this._strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"===typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"===typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this._strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,r){var n=t.length+r;this._expand(n);for(var i=0,o=0;o<t.length;o++){var a=(0|this.words[o+r])+i,s=(0|t.words[o])*e,i=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+r]=67108863&a}for(;o<this.length-r;o++)i=(a=(0|this.words[o+r])+i)>>26,this.words[o+r]=67108863&a;if(0===i)return this._strip();for(m(-1===i),o=i=0;o<this.length;o++)i=(a=-(0|this.words[o])+i)>>26,this.words[o]=67108863&a;return this.negative=1,this._strip()},g.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,s=n.length-i.length;if("mod"!==e){(a=new g(null)).length=1+s,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}t=n.clone()._ishlnsubmul(i,1,s);0===t.negative&&(n=t,a&&(a.words[s]=1));for(var c=s-1;c>=0;c--){var h=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]),h=Math.min(h/o|0,67108863);for(n._ishlnsubmul(i,h,c);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=h)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},g.prototype.divmod=function(t,e,r){return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(n=o.div.neg()),"div"!==e&&(i=o.mod.neg(),r&&0!==i.negative&&i.iadd(t)),{div:n,mod:i}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:n="mod"!==e?o.div.neg():n,mod:o.mod}):0!==(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(i=o.mod.neg(),r&&0!==i.negative&&i.isub(t)),{div:o.div,mod:i}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modrn(t.words[0]))}:this._wordDiv(t,e);var n,i,o},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),t=t.andln(1),n=r.cmp(n);return n<0||1===t&&0===n?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},g.prototype.modrn=function(t){var e=t<0;m((t=e?-t:t)<=67108863);for(var r=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(r*n+(0|this.words[i]))%t;return e?-n:n},g.prototype.modn=function(t){return this.modrn(t)},g.prototype.idivn=function(t){var e=t<0;m((t=e?-t:t)<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*r;this.words[n]=i/t|0,r=i%t}return this._strip(),e?this.ineg():this},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,r=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),n=new g(1),i=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++s;for(var u=r.clone(),c=e.clone();!e.isZero();){for(var h=0,l=1;0===(e.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(n.isOdd()||i.isOdd())&&(n.iadd(u),i.isub(c)),n.iushrn(1),i.iushrn(1);for(var f=0,d=1;0===(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(u),a.isub(c)),o.iushrn(1),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(o),i.isub(a)):(r.isub(e),o.isub(n),a.isub(i))}return{a:o,b:a,gcd:r.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,r=this,n=t.clone(),r=0!==r.negative?r.umod(t):r.clone(),i=new g(1),o=new g(0),a=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var s=0,u=1;0===(r.words[0]&u)&&s<26;++s,u<<=1);if(s>0)for(r.iushrn(s);s-- >0;)i.isOdd()&&i.iadd(a),i.iushrn(1);for(var c=0,h=1;0===(n.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(n.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);r.cmp(n)>=0?(r.isub(n),i.isub(o)):(n.isub(r),o.isub(i))}return(e=0===r.cmpn(1)?i:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0;for(var n=r.negative=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0)var o=e,e=r,r=o;else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0===(1&this.words[0])},g.prototype.isOdd=function(){return 1===(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"===typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)return this._expand(1+t),this.words[t]|=e,this;for(var r=e,n=t;0!==r&&n<this.length;n++){var i=0|this.words[n],r=(i+=r)>>>26;i&=67108863,this.words[n]=i}return 0!==r&&(this.words[n]=r,this.length++),this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this._strip(),t=this.length>1?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-t:t):-1},g.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;t=this.ucmp(t);return 0!==this.negative?0|-t:t},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return this.cmpn(t)>=0},g.prototype.gte=function(t){return this.cmp(t)>=0},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new k(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){var e;"string"===typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function E(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){for(var e,r=t;this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength(),e>this.n;);t=e<this.n?-1:r.ucmp(this.p);return 0===t?(r.words[0]=0,r.length=1):t>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},e(w,y),w.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,0===(t.words[n-10]=i)&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},e(b,y),e(_,y),e(M,y),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e},k.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){m(0===(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(n(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);e=t.add(e);return e.cmp(this.m)>=0&&e.isub(this.m),e._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);e=t.iadd(e);return e.cmp(this.m)>=0&&e.isub(this.m),e},k.prototype.sub=function(t,e){this._verify2(t,e);e=t.sub(e);return e.cmpn(0)<0&&e.iadd(this.m),e._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);e=t.isub(e);return e.cmpn(0)<0&&e.iadd(this.m),e},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2===1),3===e){e=this.m.add(new g(1)).iushrn(2);return this.pow(t,e)}for(var r=this.m.subn(1),n=0;!r.isZero()&&0===r.andln(1);)n++,r.iushrn(1);m(!r.isZero());for(var i=new g(1).toRed(this),o=i.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var u=this.pow(s,r),c=this.pow(t,r.addn(1).iushrn(1)),h=this.pow(t,r),l=n;0!==h.cmp(i);){for(var f=h,d=0;0!==f.cmp(i);d++)f=f.redSqr();m(d<l);var p=this.pow(u,new g(1).iushln(l-d-1)),c=c.redMul(p),u=p.redSqr(),h=h.redMul(u),l=d}return c},k.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new g(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=s-1;c>=0;c--){var h=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[o]),o=a=0)):a=0}s=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new E(t)},e(E,k),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;t=t.imul(e),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=t.isub(e).iushrn(this.shift),e=t;return t.cmp(this.m)>=0?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new g(0)._forceRed(this);t=t.mul(e),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=t.isub(e).iushrn(this.shift),e=t;return t.cmp(this.m)>=0?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(this)}.call(this,A(129)(t))},905:function(t,s,u){"use strict";!function(n){var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0}),s.baToJSON=s.addHexPrefix=s.toUnsigned=s.fromSigned=s.bufferToHex=s.bufferToInt=s.toBuffer=s.unpadHexString=s.unpadArray=s.unpadBuffer=s.setLengthRight=s.setLengthLeft=s.zeros=void 0;var e=t(u(904)),r=u(908),i=u(914);s.zeros=function(t){return n.allocUnsafe(t).fill(0)};function o(t,e,r){var n=s.zeros(e);return r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}s.setLengthLeft=function(t,e){return i.assertIsBuffer(t),o(t,e,!1)},s.setLengthRight=function(t,e){return i.assertIsBuffer(t),o(t,e,!0)};function a(t){for(var e=t[0];t.length>0&&"0"===e.toString();)e=(t=t.slice(1))[0];return t}s.unpadBuffer=function(t){return i.assertIsBuffer(t),a(t)},s.unpadArray=function(t){return i.assertIsArray(t),a(t)},s.unpadHexString=function(t){return i.assertIsHexString(t),t=r.stripHexPrefix(t),a(t)},s.toBuffer=function(t){if(null===t||void 0===t)return n.allocUnsafe(0);if(n.isBuffer(t))return n.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return n.from(t);if("string"===typeof t){if(!r.isHexString(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return n.from(r.padToEven(r.stripHexPrefix(t)),"hex")}if("number"===typeof t)return r.intToBuffer(t);if(e.default.isBN(t))return t.toArrayLike(n);if(t.toArray)return n.from(t.toArray());if(t.toBuffer)return n.from(t.toBuffer());throw new Error("invalid type")},s.bufferToInt=function(t){return new e.default(s.toBuffer(t)).toNumber()},s.bufferToHex=function(t){return"0x"+(t=s.toBuffer(t)).toString("hex")},s.fromSigned=function(t){return new e.default(t).fromTwos(256)},s.toUnsigned=function(t){return n.from(t.toTwos(256).toArray())},s.addHexPrefix=function(t){return"string"!==typeof t||r.isHexPrefixed(t)?t:"0x"+t},s.baToJSON=function(t){if(n.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push(s.baToJSON(t[r]));return e}}}.call(this,u(65).Buffer)},908:function(o,t,a){"use strict";!function(e){var t=a(941),r=a(982);function n(t){if("string"!==typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t=t.length%2?"0"+t:t}function i(t){return"0x"+t.toString(16)}o.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(t){t=i(t);return new e(n(t.slice(2)),"hex")},getBinarySize:function(t){if("string"!==typeof t)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return e.byteLength(t,"utf8")},isHexPrefixed:t,stripHexPrefix:r,padToEven:n,intToHex:i,fromAscii:function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},fromUtf8:function(t){return"0x"+n(new e(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},toUtf8:function(t){return new e(n(r(t).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if("string"!==typeof e)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if("string"!==typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}}}.call(this,a(65).Buffer)},913:function(t,e,s){"use strict";!function(c){Object.defineProperty(e,"__esModule",{value:!0}),e.getLength=e.decode=e.encode=void 0;var r=s(27);function h(t,e){if("00"===t.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function o(t,e){if(t<56)return c.from([t+e]);t=i(t),e=i(e+55+t.length/2);return c.from(e+t,"hex")}function n(t){return"0x"===t.slice(0,2)}function i(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");t=t.toString(16);return t.length%2?"0"+t:t}function a(t){if(c.isBuffer(t))return t;var e;if("string"===typeof t)return n(t)?c.from((e="string"===typeof(e=t)&&n(e)?e.slice(2):e).length%2?"0"+e:e,"hex"):c.from(t);if("number"===typeof t||"bigint"===typeof t)return t?(e=i(t),c.from(e,"hex")):c.from([]);if(null===t||void 0===t)return c.from([]);if(t instanceof Uint8Array)return c.from(t);if(r.isBN(t))return c.from(t.toArray());throw new Error("invalid type")}e.encode=function t(e){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(t(e[n]));var i=c.concat(r);return c.concat([o(i.length,192),i])}i=a(e);return 1===i.length&&i[0]<128?i:c.concat([o(i.length,128),i])},e.decode=function(t,e){if(void 0===e&&(e=!1),!t||0===t.length)return c.from([]);t=function t(e){var r,n,i,o,a=[],s=e[0];if(s<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(s<=183){if(u=s-127,n=128===s?c.from([]):e.slice(1,u),2===u&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(u)}}if(s<=191){if(r=s-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if((u=h(e.slice(1,r).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((n=e.slice(r,u+r)).length<u)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(u+r)}}if(s<=247){for(u=s-191,i=e.slice(1,u);i.length;)o=t(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(u)}}var u=(r=s-246)+h(e.slice(1,r).toString("hex"),16);if(u>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(i=e.slice(r,u)).length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=t(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(u)}}(a(t));if(e)return t;if(0!==t.remainder.length)throw new Error("invalid remainder");return t.data},e.getLength=function(t){if(!t||0===t.length)return c.from([]);var e=a(t),t=e[0];if(t<=127)return e.length;if(t<=183)return t-127;if(t<=191)return t-182;if(t<=247)return t-191;t-=246;return t+h(e.slice(1,t).toString("hex"),16)}}.call(this,s(65).Buffer)},914:function(t,n,i){"use strict";!function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsString=n.assertIsArray=n.assertIsBuffer=n.assertIsHexString=void 0;var r=i(908);n.assertIsHexString=function(t){if(!r.isHexString(t)){t="This method only supports 0x-prefixed hex strings but input was: ".concat(t);throw new Error(t)}},n.assertIsBuffer=function(t){if(!e.isBuffer(t)){t="This method only supports Buffer but input was: ".concat(t);throw new Error(t)}},n.assertIsArray=function(t){if(!Array.isArray(t)){t="This method only supports number arrays but input was: ".concat(t);throw new Error(t)}},n.assertIsString=function(t){if("string"!==typeof t){t="This method only supports strings but input was: ".concat(t);throw new Error(t)}}}.call(this,i(65).Buffer)},920:function(t,m,g){"use strict";!function(r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(m,"__esModule",{value:!0}),m.rlphash=m.ripemd160FromArray=m.ripemd160FromString=m.ripemd160=m.sha256FromArray=m.sha256FromString=m.sha256=m.keccakFromArray=m.keccakFromHexString=m.keccakFromString=m.keccak256=m.keccak=void 0;var e=g(983),o=e.keccak224,a=e.keccak384,s=e.keccak256,u=e.keccak512,c=g(201),h=t(g(913)),l=g(905),f=g(914);m.keccak=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;switch(f.assertIsBuffer(t),e){case 224:return o(t);case 256:return s(t);case 384:return a(t);case 512:return u(t);default:throw new Error("Invald algorithm: keccak".concat(e))}},m.keccak256=function(t){return m.keccak(t)},m.keccakFromString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;f.assertIsString(t);t=r.from(t,"utf8");return m.keccak(t,e)},m.keccakFromHexString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return f.assertIsHexString(t),m.keccak(l.toBuffer(t),e)},m.keccakFromArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return f.assertIsArray(t),m.keccak(l.toBuffer(t),e)};function d(t){return t=l.toBuffer(t),c("sha256").update(t).digest()}m.sha256=function(t){return f.assertIsBuffer(t),d(t)},m.sha256FromString=function(t){return f.assertIsString(t),d(t)},m.sha256FromArray=function(t){return f.assertIsArray(t),d(t)};function p(t,e){return t=l.toBuffer(t),t=c("rmd160").update(t).digest(),!0===e?l.setLengthLeft(t,32):t}m.ripemd160=function(t,e){return f.assertIsBuffer(t),p(t,e)},m.ripemd160FromString=function(t,e){return f.assertIsString(t),p(t,e)},m.ripemd160FromArray=function(t,e){return f.assertIsArray(t),p(t,e)},m.rlphash=function(t){return m.keccak(h.encode(t))}}.call(this,g(65).Buffer)},921:function(t,a,s){"use strict";!function(e){var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a,"__esModule",{value:!0}),a.toType=a.TypeOutput=a.bnToRlp=a.bnToHex=void 0;var r,n=t(s(904)),i=s(908),o=s(905);a.bnToHex=function(t){return"0x".concat(t.toString(16))},a.bnToRlp=function(t){return o.unpadBuffer(t.toArrayLike(e))},(t=r=a.TypeOutput||(a.TypeOutput={}))[t.Number=0]="Number",t[t.BN=1]="BN",t[t.Buffer=2]="Buffer",t[t.PrefixedHexString=3]="PrefixedHexString",a.toType=function(t,e){if("string"===typeof t&&!i.isHexString(t))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(t));if("number"===typeof t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");if(t=o.toBuffer(t),e===r.Buffer)return t;if(e===r.BN)return new n.default(t);if(e!==r.Number)return"0x".concat(t.toString("hex"));e=new n.default(t),t=new n.default(Number.MAX_SAFE_INTEGER.toString());if(e.gt(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return e.toNumber()}}.call(this,s(65).Buffer)},939:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var i=r(65).Buffer,r=n(r(904));e.MAX_INTEGER=new r.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new r.default("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=i.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=i.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=i.from(e.KECCAK256_RLP_S,"hex")},940:function(t,M,k){"use strict";!function(n){var i=k(492),o=k(93),t=k(200),a=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),e=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&a(e,t,r);return s(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M,"__esModule",{value:!0}),M.isZeroAddress=M.zeroAddress=M.importPublic=M.privateToAddress=M.privateToPublic=M.publicToAddress=M.pubToAddress=M.isValidPublic=M.isValidPrivate=M.generateAddress2=M.generateAddress=M.isValidChecksumAddress=M.toChecksumAddress=M.isValidAddress=M.Account=void 0;var u=r(k(903)),c=r(k(904)),h=e(k(913)),l=k(908),f=k(939),d=k(905),p=k(920),m=k(914),g=k(921),e=k(942),v=e.privateKeyVerify,y=e.publicKeyCreate,w=e.publicKeyVerify,b=e.publicKeyConvert,t=(t(_,[{key:"_validate",value:function(){if(this.nonce.lt(new c.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new c.default(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}},{key:"raw",value:function(){return[g.bnToRlp(this.nonce),g.bnToRlp(this.balance),this.stateRoot,this.codeHash]}},{key:"serialize",value:function(){return h.encode(this.raw())}},{key:"isContract",value:function(){return!this.codeHash.equals(f.KECCAK256_NULL)}},{key:"isEmpty",value:function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(f.KECCAK256_NULL)}}],[{key:"fromAccountData",value:function(t){var e=t.nonce,r=t.balance,n=t.stateRoot,t=t.codeHash;return new _(e?new c.default(d.toBuffer(e)):void 0,r?new c.default(d.toBuffer(r)):void 0,n?d.toBuffer(n):void 0,t?d.toBuffer(t):void 0)}},{key:"fromRlpSerializedAccount",value:function(t){t=h.decode(t);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}},{key:"fromValuesArray",value:function(t){var e=i(t,4),r=e[0],n=e[1],t=e[2],e=e[3];return new _(new c.default(r),new c.default(n),t,e)}}]),_);function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c.default(0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.default(0),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.KECCAK256_RLP,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.KECCAK256_NULL;o(this,_),this.nonce=t,this.balance=e,this.stateRoot=r,this.codeHash=n,this._validate()}M.Account=t,M.isValidAddress=function(t){return m.assertIsHexString(t),/^0x[0-9a-fA-F]{40}$/.test(t)},M.toChecksumAddress=function(t,e){m.assertIsHexString(t);var r=l.stripHexPrefix(t).toLowerCase(),t="";e&&(t=g.toType(e,g.TypeOutput.BN).toString()+"0x");for(var n=p.keccakFromString(t+r).toString("hex"),i="0x",o=0;o<r.length;o++)parseInt(n[o],16)>=8?i+=r[o].toUpperCase():i+=r[o];return i},M.isValidChecksumAddress=function(t,e){return M.isValidAddress(t)&&M.toChecksumAddress(t,e)===t},M.generateAddress=function(t,e){m.assertIsBuffer(t),m.assertIsBuffer(e);e=new c.default(e);return(e.isZero()?p.rlphash([t,null]):p.rlphash([t,n.from(e.toArray())])).slice(-20)},M.generateAddress2=function(t,e,r){return m.assertIsBuffer(t),m.assertIsBuffer(e),m.assertIsBuffer(r),u.default(20===t.length),u.default(32===e.length),p.keccak256(n.concat([n.from("ff","hex"),t,e,p.keccak256(r)])).slice(-20)},M.isValidPrivate=function(t){return v(t)},M.isValidPublic=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.assertIsBuffer(t),64===t.length?w(n.concat([n.from([4]),t])):!!e&&w(t)},M.pubToAddress=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.assertIsBuffer(t),e&&64!==t.length&&(t=n.from(b(t,!1).slice(1))),u.default(64===t.length),p.keccak(t).slice(-20)},M.publicToAddress=M.pubToAddress,M.privateToPublic=function(t){return m.assertIsBuffer(t),n.from(y(t,!1)).slice(1)},M.privateToAddress=function(t){return M.publicToAddress(M.privateToPublic(t))},M.importPublic=function(t){return m.assertIsBuffer(t),t=64!==t.length?n.from(b(t,!1).slice(1)):t},M.zeroAddress=function(){var t=d.zeros(20);return d.bufferToHex(t)},M.isZeroAddress=function(t){return m.assertIsHexString(t),M.zeroAddress()===t}}.call(this,k(65).Buffer)},941:function(t,e){t.exports=function(t){if("string"!==typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)}},942:function(t,r,e){"use strict";var n=this&&this.__awaiter||function(t,a,s,u){return new(s=s||Promise)(function(r,e){function n(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?r(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,i)}o((u=u.apply(t,a||[])).next())})},i=this&&this.__generator||function(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"===typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(r,"__esModule",{value:!0});var o=e(943),a=e(993);r.createPrivateKey=function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,a.getRandomBytes(32)];case 1:return e=t.sent(),o.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}})})},r.createPrivateKeySync=function(){for(;;){var t=a.getRandomBytesSync(32);if(o.privateKeyVerify(t))return t}},function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(e(943))},943:function(t,e,r){t.exports=r(991)(r(992))},980:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(939),e),i(r(940),e),i(r(994),e),i(r(920),e),i(r(995),e),i(r(905),e),i(r(996),e),i(r(997),e),i(r(921),e),i(r(908),e)},982:function(t,e,r){var n=r(941);t.exports=function(t){return"string"===typeof t&&n(t)?t.slice(2):t}},983:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(984),i=r(985);e.keccak224=n.createHashFunction(function(){return i("keccak224")}),e.keccak256=n.createHashFunction(function(){return i("keccak256")}),e.keccak384=n.createHashFunction(function(){return i("keccak384")}),e.keccak512=n.createHashFunction(function(){return i("keccak512")})},984:function(t,e,r){"use strict";!function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.createHashFunction=function(r){return function(t){var e=r();return e.update(t),n.from(e.digest())}}}.call(this,r(65).Buffer)},985:function(t,e,r){t.exports=r(986)(r(989))},986:function(t,e,r){var i=r(987),o=r(988);t.exports=function(t){var r=i(t),n=o(t);return function(t,e){switch("string"===typeof t?t.toLowerCase():t){case"keccak224":return new r(1152,448,null,224,e);case"keccak256":return new r(1088,512,null,256,e);case"keccak384":return new r(832,768,null,384,e);case"keccak512":return new r(576,1024,null,512,e);case"sha3-224":return new r(1152,448,6,224,e);case"sha3-256":return new r(1088,512,6,256,e);case"sha3-384":return new r(832,768,6,384,e);case"sha3-512":return new r(576,1024,6,512,e);case"shake128":return new n(1344,256,31,e);case"shake256":return new n(1088,512,31,e);default:throw new Error("Invald algorithm: "+t)}}}},987:function(o,t,a){!function(r){var c=a(93),t=a(200),e=a(224),n=a(225),i=a(477).Transform;o.exports=function(u){return function(){"use strict";e(s,i);var a=n(s);function s(t,e,r,n,i){var o;return c(this,s),(o=a.call(this,i))._rate=t,o._capacity=e,o._delimitedSuffix=r,o._hashBitLength=n,o._options=i,o._state=new u,o._state.initialize(t,e),o._finalized=!1,o}return t(s,[{key:"_transform",value:function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)}},{key:"_flush",value:function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)}},{key:"update",value:function(t,e){if(!r.isBuffer(t)&&"string"!==typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return r.isBuffer(t)||(t=r.from(t,e)),this._state.absorb(t),this}},{key:"digest",value:function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e}},{key:"_resetState",value:function(){return this._state.initialize(this._rate,this._capacity),this}},{key:"_clone",value:function(){var t=new s(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}]),s}()}}.call(this,a(65).Buffer)},988:function(o,t,a){!function(r){var u=a(93),t=a(200),e=a(224),n=a(225),i=a(477).Transform;o.exports=function(s){return function(){"use strict";e(a,i);var o=n(a);function a(t,e,r,n){var i;return u(this,a),(i=o.call(this,n))._rate=t,i._capacity=e,i._delimitedSuffix=r,i._options=n,i._state=new s,i._state.initialize(t,e),i._finalized=!1,i}return t(a,[{key:"_transform",value:function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)}},{key:"_flush",value:function(){}},{key:"_read",value:function(t){this.push(this.squeeze(t))}},{key:"update",value:function(t,e){if(!r.isBuffer(t)&&"string"!==typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return r.isBuffer(t)||(t=r.from(t,e)),this._state.absorb(t),this}},{key:"squeeze",value:function(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));t=this._state.squeeze(t);return t=void 0!==e?t.toString(e):t}},{key:"_resetState",value:function(){return this._state.initialize(this._rate,this._capacity),this}},{key:"_clone",value:function(){var t=new a(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}]),a}()}}.call(this,a(65).Buffer)},989:function(e,t,r){!function(n){var i=r(990);function t(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}t.prototype.initialize=function(t,e){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},t.prototype.absorb=function(t){for(var e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},t.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!==(128&t)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},t.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var e=n.alloc(t),r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return e},t.prototype.copy=function(t){for(var e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},e.exports=t}.call(this,r(65).Buffer)},990:function(t,e){var Q=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(var e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],s=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],l=t[9]^t[19]^t[29]^t[39]^t[49],f=h^(i<<1|o>>>31),d=l^(o<<1|i>>>31),p=t[0]^f,m=t[1]^d,g=t[10]^f,v=t[11]^d,y=t[20]^f,w=t[21]^d,b=t[30]^f,_=t[31]^d,M=t[40]^f,k=t[41]^d,f=r^(a<<1|s>>>31),d=n^(s<<1|a>>>31),E=t[2]^f,x=t[3]^d,A=t[12]^f,T=t[13]^d,S=t[22]^f,P=t[23]^d,O=t[32]^f,B=t[33]^d,R=t[42]^f,C=t[43]^d;f=i^(u<<1|c>>>31),d=o^(c<<1|u>>>31);var N=t[4]^f,I=t[5]^d,L=t[14]^f,j=t[15]^d,D=t[24]^f,q=t[25]^d,F=t[34]^f,U=t[35]^d,G=t[44]^f,z=t[45]^d;f=a^(h<<1|l>>>31),d=s^(l<<1|h>>>31);var K=t[6]^f,H=t[7]^d,V=t[16]^f,Z=t[17]^d,W=t[26]^f,J=t[27]^d,X=t[36]^f,Y=t[37]^d,$=t[46]^f,i=t[47]^d;f=u^(r<<1|n>>>31),d=c^(n<<1|r>>>31);o=t[8]^f,a=t[9]^d,s=t[18]^f,l=t[19]^d,h=t[28]^f,u=t[29]^d,c=t[38]^f,n=t[39]^d,r=t[48]^f,f=t[49]^d,d=p,p=m,m=v<<4|g>>>28,g=g<<4|v>>>28,v=y<<3|w>>>29,w=w<<3|y>>>29,y=_<<9|b>>>23,b=b<<9|_>>>23,_=M<<18|k>>>14,k=k<<18|M>>>14,M=E<<1|x>>>31,x=x<<1|E>>>31,E=T<<12|A>>>20,A=A<<12|T>>>20,T=S<<10|P>>>22,P=P<<10|S>>>22,S=B<<13|O>>>19,O=O<<13|B>>>19,B=R<<2|C>>>30,C=C<<2|R>>>30,R=I<<30|N>>>2,N=N<<30|I>>>2,I=L<<6|j>>>26,j=j<<6|L>>>26,L=q<<11|D>>>21,D=D<<11|q>>>21,q=F<<15|U>>>17,U=U<<15|F>>>17,F=z<<29|G>>>3,G=G<<29|z>>>3,z=K<<28|H>>>4,H=H<<28|K>>>4,K=Z<<23|V>>>9,V=V<<23|Z>>>9,Z=W<<25|J>>>7,J=J<<25|W>>>7,W=X<<21|Y>>>11,Y=Y<<21|X>>>11,X=i<<24|$>>>8,$=$<<24|i>>>8,i=o<<27|a>>>5,a=a<<27|o>>>5,o=s<<20|l>>>12,l=l<<20|s>>>12,s=u<<7|h>>>25,h=h<<7|u>>>25,u=c<<8|n>>>24,n=n<<8|c>>>24,c=r<<14|f>>>18,r=f<<14|r>>>18;t[0]=d^~E&L,t[1]=p^~A&D,t[10]=z^~o&v,t[11]=H^~l&w,t[20]=M^~I&Z,t[21]=x^~j&J,t[30]=i^~m&T,t[31]=a^~g&P,t[40]=R^~K&s,t[41]=N^~V&h,t[2]=E^~L&W,t[3]=A^~D&Y,t[12]=o^~v&S,t[13]=l^~w&O,t[22]=I^~Z&u,t[23]=j^~J&n,t[32]=m^~T&q,t[33]=g^~P&U,t[42]=K^~s&y,t[43]=V^~h&b,t[4]=L^~W&c,t[5]=D^~Y&r,t[14]=v^~S&F,t[15]=w^~O&G,t[24]=Z^~u&_,t[25]=J^~n&k,t[34]=T^~q&X,t[35]=P^~U&$,t[44]=s^~y&B,t[45]=h^~b&C,t[6]=W^~c&d,t[7]=Y^~r&p,t[16]=S^~F&z,t[17]=O^~G&H,t[26]=u^~_&M,t[27]=n^~k&x,t[36]=q^~X&i,t[37]=U^~$&a,t[46]=y^~B&R,t[47]=b^~C&N,t[8]=c^~d&E,t[9]=r^~p&A,t[18]=F^~z&o,t[19]=G^~H&l,t[28]=_^~M&I,t[29]=k^~x&j,t[38]=X^~i&m,t[39]=$^~a&g,t[48]=B^~R&K,t[49]=C^~N&V,t[0]^=Q[2*e],t[1]^=Q[2*e+1]}}},991:function(t,e,r){var a=r(493),s="Impossible case. Please create issue.",i="The tweak was out of range or the resulted private key is invalid",u="The tweak was out of range or equal to zero",c="Public Key could not be parsed",h="Public Key serialization error",l="Signature could not be parsed";function f(t,e){if(!t)throw new Error(e)}function d(t,e,r){var n;f(e instanceof Uint8Array,"Expected ".concat(t," to be an Uint8Array")),void 0!==r&&(Array.isArray(r)?(n=r.join(", "),n="Expected ".concat(t," to be an Uint8Array with length [").concat(n,"]"),f(r.includes(e.length),n)):(t="Expected ".concat(t," to be an Uint8Array with length ").concat(r),f(e.length===r,t)))}function p(t){f("Boolean"===g(t),"Expected compressed to be a Boolean")}function m(t,e){var r=arguments.length>0&&void 0!==t?t:function(t){return new Uint8Array(t)},n=arguments.length>1?e:void 0;return d("output",r="function"===typeof r?r(n):r,n),r}function g(t){return Object.prototype.toString.call(t).slice(8,-1)}t.exports=function(o){return{contextRandomize:function(t){if(1===(f(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&d("seed",t,32),o.contextRandomize(t)))throw new Error("Unknow error on context randomization")},privateKeyVerify:function(t){return d("private key",t,32),0===o.privateKeyVerify(t)},privateKeyNegate:function(t){switch(d("private key",t,32),o.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(s)}},privateKeyTweakAdd:function(t,e){switch(d("private key",t,32),d("tweak",e,32),o.privateKeyTweakAdd(t,e)){case 0:return t;case 1:throw new Error(i)}},privateKeyTweakMul:function(t,e){switch(d("private key",t,32),d("tweak",e,32),o.privateKeyTweakMul(t,e)){case 0:return t;case 1:throw new Error(u)}},publicKeyVerify:function(t){return d("public key",t,[33,65]),0===o.publicKeyVerify(t)},publicKeyCreate:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;switch(d("private key",t,32),p(e),r=m(r,e?33:65),o.publicKeyCreate(r,t)){case 0:return r;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(h)}},publicKeyConvert:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;switch(d("public key",t,[33,65]),p(e),r=m(r,e?33:65),o.publicKeyConvert(r,t)){case 0:return r;case 1:throw new Error(c);case 2:throw new Error(h)}},publicKeyNegate:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;switch(d("public key",t,[33,65]),p(e),r=m(r,e?33:65),o.publicKeyNegate(r,t)){case 0:return r;case 1:throw new Error(c);case 2:throw new Error(s);case 3:throw new Error(h)}},publicKeyCombine:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;f(Array.isArray(t),"Expected public keys to be an Array"),f(t.length>0,"Expected public keys array will have more than zero items");var n,i=a(t);try{for(i.s();!(n=i.n()).done;)d("public key",n.value,[33,65])}catch(t){i.e(t)}finally{i.f()}switch(p(e),r=m(r,e?33:65),o.publicKeyCombine(r,t)){case 0:return r;case 1:throw new Error(c);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(h)}},publicKeyTweakAdd:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;switch(d("public key",t,[33,65]),d("tweak",e,32),p(r),n=m(n,r?33:65),o.publicKeyTweakAdd(n,t,e)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(i)}},publicKeyTweakMul:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;switch(d("public key",t,[33,65]),d("tweak",e,32),p(r),n=m(n,r?33:65),o.publicKeyTweakMul(n,t,e)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(u)}},signatureNormalize:function(t){switch(d("signature",t,64),o.signatureNormalize(t)){case 0:return t;case 1:throw new Error(l)}},signatureExport:function(t,e){d("signature",t,64);var r={output:e=m(e,72),outputlen:72};switch(o.signatureExport(r,t)){case 0:return e.slice(0,r.outputlen);case 1:throw new Error(l);case 2:throw new Error(s)}},signatureImport:function(t,e){switch(d("signature",t),e=m(e,64),o.signatureImport(e,t)){case 0:return e;case 1:throw new Error(l);case 2:throw new Error(s)}},ecdsaSign:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;d("message",t,32),d("private key",e,32),f("Object"===g(r),"Expected options to be an Object"),void 0!==r.data&&d("options.data",r.data),void 0!==r.noncefn&&f("Function"===g(r.noncefn),"Expected options.noncefn to be a Function");var i={signature:m(n,64),recid:null};switch(o.ecdsaSign(i,t,e,r.data,r.noncefn)){case 0:return i;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(s)}},ecdsaVerify:function(t,e,r){switch(d("signature",t,64),d("message",e,32),d("public key",r,[33,65]),o.ecdsaVerify(t,e,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(l);case 2:throw new Error(c)}},ecdsaRecover:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0;switch(d("signature",t,64),f("Number"===g(e)&&e>=0&&e<=3,"Expected recovery id to be a Number within interval [0, 3]"),d("message",r,32),p(n),i=m(i,n?33:65),o.ecdsaRecover(i,t,e,r)){case 0:return i;case 1:throw new Error(l);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(s)}},ecdh:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;switch(d("public key",t,[33,65]),d("private key",e,32),f("Object"===g(r),"Expected options to be an Object"),void 0!==r.data&&d("options.data",r.data),void 0!==r.hashfn?(f("Function"===g(r.hashfn),"Expected options.hashfn to be a Function"),void 0!==r.xbuf&&d("options.xbuf",r.xbuf,32),void 0!==r.ybuf&&d("options.ybuf",r.ybuf,32),d("output",n)):n=m(n,32),o.ecdh(n,t,e,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}}}},992:function(t,e,r){var d=new(r(281).ec)("secp256k1"),p=d.curve,m=p.n.constructor;function g(t){var e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){var r=new m(e);if(r.cmp(p.p)>=0)return null;e=(r=r.toRed(p.red)).redSqr().redIMul(r).redIAdd(p.b).redSqrt();return 3===t!==e.isOdd()&&(e=e.redNeg()),d.keyPair({pub:{x:r,y:e}})}(e,t.subarray(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){e=new m(e),r=new m(r);if(e.cmp(p.p)>=0||r.cmp(p.p)>=0)return null;if(e=e.toRed(p.red),r=r.toRed(p.red),(6===t||7===t)&&r.isOdd()!==(7===t))return null;t=e.redSqr().redIMul(e);return r.redSqr().redISub(t.redIAdd(p.b)).isZero()?d.keyPair({pub:{x:e,y:r}}):null}(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function s(t,e){for(var r=e.encode(null,33===t.length),n=0;n<t.length;++n)t[n]=r[n]}t.exports={contextRandomize:function(){return 0},privateKeyVerify:function(t){t=new m(t);return t.cmp(p.n)<0&&!t.isZero()?0:1},privateKeyNegate:function(t){var e=new m(t),e=p.n.sub(e).umod(p.n).toArrayLike(Uint8Array,"be",32);return t.set(e),0},privateKeyTweakAdd:function(t,e){e=new m(e);if(e.cmp(p.n)>=0)return 1;if(e.iadd(new m(t)),e.cmp(p.n)>=0&&e.isub(p.n),e.isZero())return 1;e=e.toArrayLike(Uint8Array,"be",32);return t.set(e),0},privateKeyTweakMul:function(t,e){e=new m(e);if(e.cmp(p.n)>=0||e.isZero())return 1;e.imul(new m(t));e=(e=e.cmp(p.n)>=0?e.umod(p.n):e).toArrayLike(Uint8Array,"be",32);return t.set(e),0},publicKeyVerify:function(t){return null===g(t)?1:0},publicKeyCreate:function(t,e){var r=new m(e);return r.cmp(p.n)>=0||r.isZero()?1:(s(t,d.keyFromPrivate(e).getPublic()),0)},publicKeyConvert:function(t,e){e=g(e);return null===e?1:(s(t,e.getPublic()),0)},publicKeyNegate:function(t,e){e=g(e);if(null===e)return 1;e=e.getPublic();return e.y=e.y.redNeg(),s(t,e),0},publicKeyCombine:function(t,e){for(var r=new Array(e.length),n=0;n<e.length;++n)if(r[n]=g(e[n]),null===r[n])return 1;for(var i=r[0].getPublic(),o=1;o<r.length;++o)i=i.add(r[o].pub);return i.isInfinity()?2:(s(t,i),0)},publicKeyTweakAdd:function(t,e,r){e=g(e);if(null===e)return 1;if((r=new m(r)).cmp(p.n)>=0)return 2;r=e.getPublic().add(p.g.mul(r));return r.isInfinity()?2:(s(t,r),0)},publicKeyTweakMul:function(t,e,r){e=g(e);return null===e?1:(r=new m(r)).cmp(p.n)>=0||r.isZero()?2:(s(t,e.getPublic().mul(r)),0)},signatureNormalize:function(t){var e=new m(t.subarray(0,32)),r=new m(t.subarray(32,64));return e.cmp(p.n)>=0||r.cmp(p.n)>=0?1:(1===r.cmp(d.nh)&&t.set(p.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport:function(t,e){var r=e.subarray(0,32),n=e.subarray(32,64);if(new m(r).cmp(p.n)>=0)return 1;if(new m(n).cmp(p.n)>=0)return 1;var e=t.output,i=e.subarray(4,37);i[0]=0,i.set(r,1);for(var o=33,a=0;o>1&&0===i[a]&&!(128&i[a+1]);--o,++a);if(128&(i=i.subarray(a))[0])return 1;if(o>1&&0===i[0]&&!(128&i[1]))return 1;var s=e.subarray(39,72);s[0]=0,s.set(n,1);for(var u=33,c=0;u>1&&0===s[c]&&!(128&s[c+1]);--u,++c);return 128&(s=s.subarray(c))[0]||u>1&&0===s[0]&&!(128&s[1])?1:(t.outputlen=6+o+u,e[0]=48,e[1]=t.outputlen-2,e[2]=2,e[3]=i.length,e.set(i,4),e[4+o]=2,e[5+o]=s.length,e.set(s,6+o),0)},signatureImport:function(t,e){if(e.length<8)return 1;if(e.length>72)return 1;if(48!==e[0])return 1;if(e[1]!==e.length-2)return 1;if(2!==e[2])return 1;var r=e[3];if(0===r)return 1;if(5+r>=e.length)return 1;if(2!==e[4+r])return 1;var n=e[5+r];if(0===n)return 1;if(6+r+n!==e.length)return 1;if(128&e[4])return 1;if(r>1&&0===e[4]&&!(128&e[5]))return 1;if(128&e[r+6])return 1;if(n>1&&0===e[r+6]&&!(128&e[r+7]))return 1;var i=e.subarray(4,4+r);if((i=33===i.length&&0===i[0]?i.subarray(1):i).length>32)return 1;n=e.subarray(6+r);if((n=33===n.length&&0===n[0]?n.slice(1):n).length>32)throw new Error("S length is too long");i=new m(i);i.cmp(p.n)>=0&&(i=new m(0));r=new m(e.subarray(6+r));return r.cmp(p.n)>=0&&(r=new m(0)),t.set(i.toArrayLike(Uint8Array,"be",32),0),t.set(r.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign:function(t,e,r,n,i){var o;i&&(o=i,i=function(t){t=o(e,r,null,n,t);if(!(t instanceof Uint8Array&&32===t.length))throw new Error("This is the way");return new m(t)});var a,s=new m(r);if(s.cmp(p.n)>=0||s.isZero())return 1;try{a=d.sign(e,r,{canonical:!0,k:i,pers:n})}catch(t){return 1}return t.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),t.recid=a.recoveryParam,0},ecdsaVerify:function(t,e,r){var n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new m(n.r),t=new m(n.s);if(i.cmp(p.n)>=0||t.cmp(p.n)>=0)return 1;if(1===t.cmp(d.nh)||i.isZero()||t.isZero())return 3;r=g(r);if(null===r)return 2;r=r.getPublic();return d.verify(e,n,r)?0:3},ecdsaRecover:function(t,e,r,n){var i,o={r:e.slice(0,32),s:e.slice(32,64)},a=new m(o.r),e=new m(o.s);if(a.cmp(p.n)>=0||e.cmp(p.n)>=0)return 1;if(a.isZero()||e.isZero())return 2;try{i=d.recoverPubKey(n,o,r)}catch(t){return 2}return s(t,i),0},ecdh:function(t,e,r,n,i,o,a){e=g(e);if(null===e)return 1;r=new m(r);if(r.cmp(p.n)>=0||r.isZero())return 2;e=e.getPublic().mul(r);if(void 0===i)for(var r=e.encode(null,!0),s=d.hash().update(r).digest(),u=0;u<32;++u)t[u]=s[u];else{o=o||new Uint8Array(32);for(var c=e.getX().toArray("be",32),h=0;h<32;++h)o[h]=c[h];a=a||new Uint8Array(32);for(var l=e.getY().toArray("be",32),f=0;f<32;++f)a[f]=l[f];n=i(o,a,n);if(!(n instanceof Uint8Array&&n.length===t.length))return 2;t.set(n)}return 0}}},993:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(145);e.getRandomBytes=function(t){return new Promise(function(r,n){i(t,function(t,e){t?n(t):r(e)})})},e.getRandomBytesSync=function(t){return i(t)}},994:function(t,u,c){"use strict";!function(n){var e=c(93),t=c(200);Object.defineProperty(u,"__esModule",{value:!0}),u.Address=void 0;var i=c(903),r=c(904),o=c(905),a=c(940),t=(t(s,[{key:"equals",value:function(t){return this.buf.equals(t.buf)}},{key:"isZero",value:function(){return this.equals(s.zero())}},{key:"toString",value:function(){return"0x"+this.buf.toString("hex")}},{key:"toBuffer",value:function(){return n.from(this.buf)}}],[{key:"zero",value:function(){return new s(o.zeros(20))}},{key:"fromString",value:function(t){return i(a.isValidAddress(t),"Invalid address"),new s(o.toBuffer(t))}},{key:"fromPublicKey",value:function(t){return i(n.isBuffer(t),"Public key should be Buffer"),new s(a.pubToAddress(t))}},{key:"fromPrivateKey",value:function(t){return i(n.isBuffer(t),"Private key should be Buffer"),new s(a.privateToAddress(t))}},{key:"generate",value:function(t,e){return i(r.isBN(e)),new s(a.generateAddress(t.buf,e.toArrayLike(n)))}},{key:"generate2",value:function(t,e,r){return i(n.isBuffer(e)),i(n.isBuffer(r)),new s(a.generateAddress2(t.buf,e,r))}}]),s);function s(t){e(this,s),i(20===t.length,"Invalid address length"),this.buf=t}u.Address=t}.call(this,c(65).Buffer)},995:function(t,e,l){"use strict";!function(o){var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.hashPersonalMessage=e.isValidSignature=e.fromRpcSig=e.toRpcSig=e.ecrecover=e.ecsign=void 0;var a=l(942),s=t(l(904)),u=l(905),r=l(920),n=l(914),i=l(921);function c(t,e){t=i.toType(t,i.TypeOutput.BN);if(!e)return t.subn(27);e=i.toType(e,i.TypeOutput.BN);return t.sub(e.muln(2).addn(35))}function h(t){t=new s.default(t);return t.eqn(0)||t.eqn(1)}e.ecsign=function(t,e,r){var n=a.ecdsaSign(t,e),t=n.signature,e=n.recid,n=o.from(t.slice(0,32)),t=o.from(t.slice(32,64));if(r&&"number"!==typeof r)return{r:n,s:t,v:i.toType(r,i.TypeOutput.BN).muln(2).addn(35).addn(e).toArrayLike(o)};if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:n,s:t,v:r?e+(2*r+35):e+27}},e.ecrecover=function(t,e,r,n,i){n=o.concat([u.setLengthLeft(r,32),u.setLengthLeft(n,32)],64),i=c(e,i);if(!h(i))throw new Error("Invalid signature v value");t=a.ecdsaRecover(n,i.toNumber(),t);return o.from(a.publicKeyConvert(t,!1).slice(1))},e.toRpcSig=function(t,e,r,n){if(!h(c(t,n)))throw new Error("Invalid signature v value");return u.bufferToHex(o.concat([u.setLengthLeft(e,32),u.setLengthLeft(r,32),u.toBuffer(t)]))},e.fromRpcSig=function(t){var e=u.toBuffer(t);if(e.length<65)throw new Error("Invalid signature length");t=u.bufferToInt(e.slice(64));return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},e.isValidSignature=function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,o=new s.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new s.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==e.length||32!==r.length)return!1;if(!h(c(t,i)))return!1;e=new s.default(e),r=new s.default(r);return!(e.isZero()||e.gt(a)||r.isZero()||r.gt(a))&&(!n||1!==r.cmp(o))},e.hashPersonalMessage=function(t){n.assertIsBuffer(t);var e=o.from("\x19Ethereum Signed Message:\n".concat(t.length.toString()),"utf-8");return r.keccak(o.concat([e,t]))}}.call(this,l(65).Buffer)},996:function(t,r,h){"use strict";!function(o){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;var a=e(h(903)),s=t(h(908)),u=t(h(913)),c=h(905);r.defineProperties=function(i,t,e){if(i.raw=[],i._fields=[],i.toJSON=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var e={};return i._fields.forEach(function(t){e[t]="0x".concat(i[t].toString("hex"))}),e}return c.baToJSON(i.raw)},i.serialize=function(){return u.encode(i.raw)},t.forEach(function(e,r){function t(){return i.raw[r]}function n(t){"00"!==(t=c.toBuffer(t)).toString("hex")||e.allowZero||(t=o.allocUnsafe(0)),e.allowLess&&e.length?(t=c.unpadBuffer(t),a.default(e.length>=t.length,"The field ".concat(e.name," must not have more ").concat(e.length," bytes"))):e.allowZero&&0===t.length||!e.length||a.default(e.length===t.length,"The field ".concat(e.name," must have byte length of ").concat(e.length)),i.raw[r]=t}i._fields.push(e.name),Object.defineProperty(i,e.name,{enumerable:!0,configurable:!0,get:t,set:n}),e.default&&(i[e.name]=e.default),e.alias&&Object.defineProperty(i,e.alias,{enumerable:!1,configurable:!0,set:n,get:t})}),e)if("string"===typeof e&&(e=o.from(s.stripHexPrefix(e),"hex")),o.isBuffer(e)&&(e=u.decode(e)),Array.isArray(e)){if(e.length>i._fields.length)throw new Error("wrong number of fields in data");e.forEach(function(t,e){i[i._fields[e]]=c.toBuffer(t)})}else{if("object"!==typeof e)throw new Error("invalid data");var r=Object.keys(e);t.forEach(function(t){-1!==r.indexOf(t.name)&&(i[t.name]=e[t.name]),-1!==r.indexOf(t.alias)&&(i[t.alias]=e[t.alias])})}}}.call(this,h(65).Buffer)},997:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rlp=e.BN=void 0;var n=r(904);e.BN=n;r=r(913);e.rlp=r}}]);